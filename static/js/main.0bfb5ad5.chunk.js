(this.webpackJsonpwebmd=this.webpackJsonpwebmd||[]).push([[0],{162:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAaElEQVR4Ac3BQQrCQAAEsIz///MobGG7bZUiHkz8laKoe+olplrFtRriJVa1ilUNsYlrNcVQQ+zEe3UWB/FZTXEh3quzOIhrNcVQQ+zEWU2xqiE2D6ua4iwOHqa6J6hNTDXFl+q++oUnXWYXCDnmtMUAAAAASUVORK5CYII="},288:function(e,t,A){e.exports=A.p+"static/media/record-complete-notification-icon.f6ae1070.png"},292:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAAEEfUpiAAAACXBIWXMAAAsSAAALEgHS3X78AAAQR0lEQVRYCQE8EMPvAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAP8AAAAAAP8AAAIAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAA//8AAAAB/wAAAgAAAAAAAAAAAQD/AP8AAAAAAAAAAAAAAP8AAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAAAAEAAAAAAAAAAP8AAP8AAAAAAQAAAP8AAAAB/wAAAAAAAAEAAAAAAAAAAAAA//8AAAAAAAABAAAA/wD//wEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAQIAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAA/wAAAAAA/wIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAQD/AAAAAAD/AAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAP8AAAABAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAP8AAAAAAAAAAP8AAAD/AAAA/wAAAAAAAAEAAAAAAAAAAAAAAAAAAAD/AAAAAQAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAA/wAAAAEAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAABAP//AAAAAAAAAAAAAAEBAAABAAAAAAAAAAAAAAAAAAAA/wAAAAEAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAP8AAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAABAAAAAAAAAP8AAAABAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQL/AAD/AAAAAQAAAP8AAAAAAAAA/wAAAP8AAAAAAAAAAP8AAAD/AAAA/wAAAAAAAAAA/wAAAP8AAAAAAAAAAAAAAgEAAAH/AAD/AAAAAQAAAAAAAAABAAAAAf8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAA/wEAAAH/AAD/AAAAAP8AAP//AAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAA/wAAAAEAAAAAAAAAAAAAAAAAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAgAA//8AAAABAAAA/wAAAAAAAAD/AAAA/wAAAAAAAAAAAAD/AAAA/wAAAP8AAAAAAP//AAD//wAAAAAAAAAAAAACAAABAQAA//8AAAABAAAAAAAAAAEAAAABAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAD/AAABAQAA//8AAAAAAAD//wAA//8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAD/AAAAAQAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAAAAAAAAAD/AAAAAQAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAD/AAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAEAAAAA/wAA/wEAAAEAAAAAAAAAAAAAAP8AAAAAAAAAAQAAAAAAAAD/AAAAAQAAAP8AAAAAAAAAAAAAAAEAAAD/AAAAAAAAAACAAAAAAAAAAH8AAAAAAAAAAQAAAAAAAAAA/wAAAAAAAACBAAAAAAAAAIAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAD/AAD/AQAAAQAAAAAAAAAAAAAAAAAAAP8AAAABAAAAAAAAAP8AAAABAAAAAAAAAAAAAAD/AAAAAP8AAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAQIAAAAAAAAA/wAAAAABAAABAAAAAP8AAP//AAD/AAAAAAAAAAH/AAD/AAAAAP8AAAD/AAD//wAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAD/AAAAAQEAAAEAAAAAAAAAAP8AAP8BAAABAAAAAAAAAAABAAABAAAAAAAAAAAAAAAAAAAAAAAAAACBAAAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAACAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAQAAAAAAAD//wAAAQEAAAABAAAAAAAAAP8AAAAAAAAAAQEAAAEAAAD/AAAAAQEAAAAAAAD/AAAAAAAAAAEAAAAAAAAAAAEAAAAAAIAAAAAAAAAAfwAAAAAAAAABAAAAAAD//wAAAAAAAIGBAAAAAAAAgAEAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAP//AAABAQAAAAAAAAAAAAAAAAAAAP8AAAABAAAAAAAAAP8AAAABAAAAAAAAAAAAAAD/AAAAAAAA/wAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAD//wAAAAAAAAAAAAAAAAAAAAAAAAEBAAAAAAAAAAAAAQIAAAAAAAAA/wAAAAAAAAEBAAAAAAAA//8AAP//AAAAAAAAAAEAAP//AAAAAAAA/wAAAP//AAD//wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAD/AAAAAQAAAQEAAAAAAAAAAAAA//8AAAEBAAAAAAAAAAAAAAEBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIEAAAAAAAAAgAAAAAAAAAAAAAAAAAABAQAAAAAAAICAAAAAAAAAf38AAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAQAAAAAAAAD/AAAAAQAAAP8AAAAAAAAAAAAAAAEAAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAAAAAAAAAAAAP8AAAAAAAAAAAAAAAAAAAD/AAAA/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP8AAAD/AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAO4NtYBuc2+1AAAAAElFTkSuQmCC"},301:function(e,t,A){e.exports=A.p+"static/media/chrome-icon.f3b6c54c.svg"},306:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAiUlEQVR4Ae3BSQ7CUAxEwde+/50bFkgQyGD/DBZSqrjtZMDsIMaZKTFAjDHzRJGoM+tEgagxOSJJ5JkakSByzBixQWwz+4gVYp05hlgglpljiRlinjmH+CJ+mXOJD2LKXEO8iDdzLfEUNBN5pk5sCJoFzYJmQbOgWdAsaBY0C5oFzUSNyRO3f/AAz+gRJE12Ia8AAAAASUVORK5CYII="},307:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAiElEQVR4Ae3BSQ7CQBAEwcz+/58LDkhsxp4xSwtBBD9P5oRxMkDGhXmyoWhWNCuaFc2KZkWzolnRrGhWNJOz8FlyVDSTa+Ez5ETuhfeSC7IsvIfckMfCa8kCWRdeQx6QbeE5skLGhH1kg4wLc2SAzAljZJDMC+tkguwTlskk2S9ckwYBwt83OwASZhEklsYbbQAAAABJRU5ErkJggg=="},311:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAzUlEQVR4AY3BgXHCMBAAwXuHQugEdfanzkRlH3nGgMfjEO8GF6nFjhpMCxeoxZSZrFprTMW0cFFm0nsnU8YYvNy4QGWVKRGgvC38R4uptUYEqKi8BN9okQm9g3IQTMFftMiECHaCg4UzWmRCBCib4MTCkRaZEAEKmXwT7GmRCb2D8laFvfOiBptgo1ZrjTYGKFPwUROriGAKNjd2Wmtsgh2V1fP55OjGpBYfwYneOypnCij+V0Bx8AMIBF+opXK/3xljCHQ2Cxc9Hg/O/AKFdlY5+3GtSAAAAABJRU5ErkJggg=="},312:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAfUlEQVR4Aa3BUQ6CMBRFwXOb7vulKz/CR4Ni1RCc4a6wJr+FTeedbFQ+ScLUeOWGKxoH2SRhSgZTMljpPFG5qrOQDKZkMCUDLZ41FrTYaaHFTgstzho3dU6SwZQMpmSgxVnjRIudFlrstNBipXFTY0GLSYtvGjeFg1wT/uEBKpc1Cx/u8CoAAAAASUVORK5CYII="},313:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAt0lEQVR4Ab3Bi1HbYBAGwD2RQlwKVMbnzu6v7IIkZ4CEhzOZya5/Vf7OBHEoLx7cb4JnFJrgurnPJAhXPCNOm+/NjFfhijhtvjYzDo+P7Zc4lBebz82Mw1qtu+0Su3JTPjYzDmu17kYkduWN8qeZcVirdTcisSu/Ke/NjMNarbsRiV35QHk1Mw5rte5GJHblE5vTuFmrdTcisStfeHBKwtMTl8sFkdiVb/zwRkISN+UO5TTeK//LT0efTfwPZVIpAAAAAElFTkSuQmCC"},314:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAA3klEQVR4Ae3BwU3EUBBEweeV8+Jn1u3MeiL7eARIPoCFVsLLwVXcbrfb7fZqCwe2Jxeyvax8sj3HGFwlCbv5YGd7jjG4ShK+rLanJK6ybRtHK5+qildY+YUkPGuMwZmVg7cxaJXQktBs8yzbtDEG33nwYisHlXAkiWabZ0miVRXfWTlRVbQ5J8+qKs6s/EJV8VcenEhCS0JLQktCS0JLQktCS0JLQkvCTx6ckESTRJNEk0STRJNEk0STRJNEk8RPFttTElXFFZLQbLNbVnbbtnEl2+wWdgsfJtdauP0X7xi2ahnkEPOyAAAAAElFTkSuQmCC"},315:function(e,t){e.exports="data:image/png;base64,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"},318:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACcklEQVR4Ae3BgW1bRxBF0bs0C1lXss+VWJ3ssBO6kzedWJVM/kIk8kVQMmUlCAL4HP74rzUeFBHFHRHReF9xX2Nz5B0RUVzMGVxlmquIKC4iovFBR+6IiOIi5mSZBPdIYqd40Xit8VpxceRGRFTM4EXxEbZZJBXQeEBjJyIqZvBacVU0lkyzSOKzjlxEREnCaTTEo6qKq9YaVcVea42qYq+1RlXRWqNxEREVc+JMFg3xt2IpGkumWSTxWQc2EVExJ4vGYHGaR1QVVUVVsVQVVcVeVVFV7FUVS2MTESWJRWOwOJNFQ7woisaSaRZJfFaLiJLELY2BM1k0xBKnYC8iqCquWmtUFY9qrdEioiRxj8bAmSy2iQj+aUfe4Uw0BnE6ERFsGq9VRBARXNnmliQ2jTsO/IIzeZRtPurAxjaLbRbbLLZ5hG1s8zsObCRhG0nYRhK2kYRt/k1HNraRhG0kYRtJ2GbOSWYSEUREsRMRSOIzjmwkYRtJ2EYStplzkpmMMVgigr2YE2fyGV9sn3rvIQnbSMI2c04ykzEGmcnSe6f3zvfvT7QWnHvn3DtPz8+8RRKbxhsOXNhGEraZc5KZjDHITPbGEIuGcCaLxuB3HdhERGNjmzknmckYg8zkVqa5R2NwSxKbxjsO7Mw5yUzGGGQm94whrjSEM7nSGHzUgYuIaKfTiTEGmclbMs17NAaLJDaNX/jCju1Tay1677xlDLEEcALO/YzzG+feuTp//cqm8YAv3LB96r3Hz58/6b1z6/n5id7PLCdePD0/0X/8wN++wenEpvGgxjsiothI4moMcdXYNPYaH9R4TPG2xh//Z38BPq9JPdh7I1oAAAAASUVORK5CYII="},343:function(e,t,A){e.exports=A(585)},365:function(e,t){},367:function(e,t){},398:function(e,t){},399:function(e,t){},405:function(e,t){},533:function(e,t){},535:function(e,t){},568:function(e,t,A){},569:function(e,t,A){},584:function(e,t,A){e.exports=function(){return new Worker(A.p+"4a3a421ab134cd5ff776.worker.js")}},585:function(e,t,A){"use strict";A.r(t);var a=A(0),n=A.n(a),l=A(17),i=A.n(l),r=A(20);const o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(e,t){navigator.serviceWorker.register(e).then(e=>{e.onupdatefound=()=>{const A=e.installing;null!=A&&(A.onstatechange=()=>{console.log("state change",A.state),"installed"===A.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})},e.update()}).catch(e=>{console.error("Error during service worker registration:",e)})}var s=A(27),d=A(21),m=A(286),u=A(119),p=A.n(u),g=A(57);function h(e){return new Promise(t=>{setTimeout(t,e)})}async function f(e,t){let A=1,a=setInterval(()=>{A++,t(Math.min(100,1e3*A/e*100))},1e3);await h(e),window.clearInterval(a)}function b(e){return Object(r.e)(e,r.c)}function E(e){return`/webminidisc/${e}`}function w(e,t){localStorage.setItem(e,JSON.stringify(t))}function v(e,t){let A=localStorage.getItem(e);if(null===A)return t;try{return JSON.parse(A)}catch(a){return t}}function k(e,t){const A=e=>Math.ceil(e/7);let a=e.groups.filter(e=>null!==e.title),n=e.fullWidthTitle+"0;//",l=e.title+"0;//";if(t||void 0===t)for(let s of a){let e=`${s.tracks[0].index+1}${s.tracks.length-1!==0&&`-${s.tracks[s.tracks.length-1].index+1}`}//`;n+=s.fullWidthTitle+e,l+=s.title+e}let i=0;i+=A(2*n.length),i+=A(y(l));for(let s of Object(d.getTracks)(e)){var r,o,c;i+=A(2*(null!==(r=null===(o=s.fullWidthTitle)||void 0===o?void 0:o.length)&&void 0!==r?r:0)),i+=A(y(null!==(c=s.title)&&void 0!==c?c:""))}return 7*Math.max(255-i,0)}function C(e){return e.normalize("NFD").replace(/[^\x00-\x7F]/g,"")}function y(e){const t={"\u30ac":1,"\u30ae":1,"\u30b0":1,"\u30b2":1,"\u30b4":1,"\u30b6":1,"\u30b8":1,"\u30ba":1,"\u30bc":1,"\u30be":1,"\u30c0":1,"\u30c2":1,"\u30c5":1,"\u30c7":1,"\u30c9":1,"\u30d0":1,"\u30d1":1,"\u30d3":1,"\u30d4":1,"\u30d6":1,"\u30d7":1,"\u30d9":1,"\u30da":1,"\u30dc":1,"\u30dd":1,"\u30ee":1,"\u30f0":1,"\u30f1":1,"\u30f5":1,"\u30f6":1,"\u30f4":1,"\u30fd":1,"\u30fe":1,"\u304c":1,"\u304e":1,"\u3050":1,"\u3052":1,"\u3054":1,"\u3056":1,"\u3058":1,"\u305a":1,"\u305c":1,"\u305e":1,"\u3060":1,"\u3062":1,"\u3065":1,"\u3067":1,"\u3069":1,"\u3070":1,"\u3071":1,"\u3073":1,"\u3074":1,"\u3076":1,"\u3077":1,"\u3079":1,"\u307a":1,"\u307c":1,"\u307d":1,"\u308e":1,"\u3090":1,"\u3091":1,"\u3095":1,"\u3096":1,"\u3094":1,"\u309d":1,"\u309e":1};return e.length+e.split("").map(e=>{var A;return null!==(A=t[e])&&void 0!==A?A:0}).reduce((e,t)=>e+t,0)}function x(e){const t={"\u30a1":"\uff67","\u30a2":"\uff71","\u30a3":"\uff68","\u30a4":"\uff72","\u30a5":"\uff69","\u30a6":"\uff73","\u30a7":"\uff6a","\u30a8":"\uff74","\u30a9":"\uff6b","\u30aa":"\uff75","\u30ab":"\uff76","\u30ac":"\uff76\uff9e","\u30ad":"\uff77","\u30ae":"\uff77\uff9e","\u30af":"\uff78","\u30b0":"\uff78\uff9e","\u30b1":"\uff79","\u30b2":"\uff79\uff9e","\u30b3":"\uff7a","\u30b4":"\uff7a\uff9e","\u30b5":"\uff7b","\u30b6":"\uff7b\uff9e","\u30b7":"\uff7c","\u30b8":"\uff7c\uff9e","\u30b9":"\uff7d","\u30ba":"\uff7d\uff9e","\u30bb":"\uff7e","\u30bc":"\uff7e\uff9e","\u30bd":"\uff7f","\u30be":"\uff7f\uff9e","\u30bf":"\uff80","\u30c0":"\uff80\uff9e","\u30c1":"\uff81","\u30c2":"\uff81\uff9e","\u30c3":"\uff6f","\u30c4":"\uff82","\u30c5":"\uff82\uff9e","\u30c6":"\uff83","\u30c7":"\uff83\uff9e","\u30c8":"\uff84","\u30c9":"\uff84\uff9e","\u30ca":"\uff85","\u30cb":"\uff86","\u30cc":"\uff87","\u30cd":"\uff88","\u30ce":"\uff89","\u30cf":"\uff8a","\u30d0":"\uff8a\uff9e","\u30d1":"\uff8a\uff9f","\u30d2":"\uff8b","\u30d3":"\uff8b\uff9e","\u30d4":"\uff8b\uff9f","\u30d5":"\uff8c","\u30d6":"\uff8c\uff9e","\u30d7":"\uff8c\uff9f","\u30d8":"\uff8d","\u30d9":"\uff8d\uff9e","\u30da":"\uff8d\uff9f","\u30db":"\uff8e","\u30dc":"\uff8e\uff9e","\u30dd":"\uff8e\uff9f","\u30de":"\uff8f","\u30df":"\uff90","\u30e0":"\uff91","\u30e1":"\uff92","\u30e2":"\uff93","\u30e3":"\uff6c","\u30e4":"\uff94","\u30e5":"\uff6d","\u30e6":"\uff95","\u30e7":"\uff6e","\u30e8":"\uff96","\u30e9":"\uff97","\u30ea":"\uff98","\u30eb":"\uff99","\u30ec":"\uff9a","\u30ed":"\uff9b","\u30ef":"\uff9c","\u30f2":"\uff66","\u30f3":"\uff9d","\u30fc":"\uff70","\u30ee":"\u30ee","\u30f0":"\u30f0","\u30f1":"\u30f1","\u30f5":"\u30f5","\u30f6":"\u30f6","\u30f4":"\uff73\uff9e","\u30fd":"\u30fd","\u30fe":"\u30fe","\u30fb":"\uff65","\u300c":"\uff62","\u300d":"\uff63","\u3002":"\uff61","\u3001":"\uff64","\uff01":"!","\uff02":'"',"\uff03":"#","\uff04":"$","\uff05":"%","\uff06":"&","\uff07":"'","\uff08":"(","\uff09":")","\uff0a":"*","\uff0b":"+","\uff0c":",","\uff0d":"-","\uff0e":".","\uff0f":"/","\uff1a":":","\uff1b":";","\uff1c":"<","\uff1d":"=","\uff1e":">","\uff1f":"?","\uff20":"@","\uff21":"A","\uff22":"B","\uff23":"C","\uff24":"D","\uff25":"E","\uff26":"F","\uff27":"G","\uff28":"H","\uff29":"I","\uff2a":"J","\uff2b":"K","\uff2c":"L","\uff2d":"M","\uff2e":"N","\uff2f":"O","\uff30":"P","\uff31":"Q","\uff32":"R","\uff33":"S","\uff34":"T","\uff35":"U","\uff36":"V","\uff37":"W","\uff38":"X","\uff39":"Y","\uff3a":"Z","\uff3b":"[","\uff3c":"\\","\uff3d":"]","\uff3e":"^","\uff3f":"_","\uff40":"`","\uff41":"a","\uff42":"b","\uff43":"c","\uff44":"d","\uff45":"e","\uff46":"f","\uff47":"g","\uff48":"h","\uff49":"i","\uff4a":"j","\uff4b":"k","\uff4c":"l","\uff4d":"m","\uff4e":"n","\uff4f":"o","\uff50":"p","\uff51":"q","\uff52":"r","\uff53":"s","\uff54":"t","\uff55":"u","\uff56":"v","\uff57":"w","\uff58":"x","\uff59":"y","\uff5a":"z","\uff5b":"{","\uff5c":"|","\uff5d":"}","\uff5e":"~","\u3000":" ","\uff10":"0","\uff11":"1","\uff12":"2","\uff13":"3","\uff14":"4","\uff15":"5","\uff16":"6","\uff17":"7","\uff18":"8","\uff19":"9","\u3041":"\uff67","\u3042":"\uff71","\u3043":"\uff68","\u3044":"\uff72","\u3045":"\uff69","\u3046":"\uff73","\u3047":"\uff6a","\u3048":"\uff74","\u3049":"\uff6b","\u304a":"\uff75","\u304b":"\uff76","\u304c":"\uff76\uff9e","\u304d":"\uff77","\u304e":"\uff77\uff9e","\u304f":"\uff78","\u3050":"\uff78\uff9e","\u3051":"\uff79","\u3052":"\uff79\uff9e","\u3053":"\uff7a","\u3054":"\uff7a\uff9e","\u3055":"\uff7b","\u3056":"\uff7b\uff9e","\u3057":"\uff7c","\u3058":"\uff7c\uff9e","\u3059":"\uff7d","\u305a":"\uff7d\uff9e","\u305b":"\uff7e","\u305c":"\uff7e\uff9e","\u305d":"\uff7f","\u305e":"\uff7f\uff9e","\u305f":"\uff80","\u3060":"\uff80\uff9e","\u3061":"\uff81","\u3062":"\uff81\uff9e","\u3063":"\uff6f","\u3064":"\uff82","\u3065":"\uff82\uff9e","\u3066":"\uff83","\u3067":"\uff83\uff9e","\u3068":"\uff84","\u3069":"\uff84\uff9e","\u306a":"\uff85","\u306b":"\uff86","\u306c":"\uff87","\u306d":"\uff88","\u306e":"\uff89","\u306f":"\uff8a","\u3070":"\uff8a\uff9e","\u3071":"\uff8a\uff9f","\u3072":"\uff8b","\u3073":"\uff8b\uff9e","\u3074":"\uff8b\uff9f","\u3075":"\uff8c","\u3076":"\uff8c\uff9e","\u3077":"\uff8c\uff9f","\u3078":"\uff8d","\u3079":"\uff8d\uff9e","\u307a":"\uff8d\uff9f","\u307b":"\uff8e","\u307c":"\uff8e\uff9e","\u307d":"\uff8e\uff9f","\u307e":"\uff8f","\u307f":"\uff90","\u3080":"\uff91","\u3081":"\uff92","\u3082":"\uff93","\u3083":"\uff6c","\u3084":"\uff94","\u3085":"\uff6d","\u3086":"\uff95","\u3087":"\uff6e","\u3088":"\uff96","\u3089":"\uff97","\u308a":"\uff98","\u308b":"\uff99","\u308c":"\uff9a","\u308d":"\uff9b","\u308f":"\uff9c","\u3092":"\uff66","\u3093":"\uff9d","\u308e":"\u30ee","\u3090":"\u30f0","\u3091":"\u30f1","\u3095":"\u30f5","\u3096":"\u30f6","\u3094":"\uff73\uff9e","\u309d":"\u30fd","\u309e":"\u30fe"},A=Object.values(t),a=e.split("").map(e=>t[e]?t[e]:e.charCodeAt(0)<127||A.includes(e)?e:" ").join("");return p.a.encode(a,"SJIS").length!==y(e)?C(e):a}function O(e){const t={"!":"\uff01",'"':"\uff02","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","'":"\uff07","(":"\uff08",")":"\uff09","*":"\uff0a","+":"\uff0b",",":"\uff0c","-":"\uff0d",".":"\uff0e","/":"\uff0f",":":"\uff1a",";":"\uff1b","<":"\uff1c","=":"\uff1d",">":"\uff1e","?":"\uff1f","@":"\uff20",A:"\uff21",B:"\uff22",C:"\uff23",D:"\uff24",E:"\uff25",F:"\uff26",G:"\uff27",H:"\uff28",I:"\uff29",J:"\uff2a",K:"\uff2b",L:"\uff2c",M:"\uff2d",N:"\uff2e",O:"\uff2f",P:"\uff30",Q:"\uff31",R:"\uff32",S:"\uff33",T:"\uff34",U:"\uff35",V:"\uff36",W:"\uff37",X:"\uff38",Y:"\uff39",Z:"\uff3a","[":"\uff3b","\\":"\uff3c","]":"\uff3d","^":"\uff3e",_:"\uff3f","`":"\uff40",a:"\uff41",b:"\uff42",c:"\uff43",d:"\uff44",e:"\uff45",f:"\uff46",g:"\uff47",h:"\uff48",i:"\uff49",j:"\uff4a",k:"\uff4b",l:"\uff4c",m:"\uff4d",n:"\uff4e",o:"\uff4f",p:"\uff50",q:"\uff51",r:"\uff52",s:"\uff53",t:"\uff54",u:"\uff55",v:"\uff56",w:"\uff57",x:"\uff58",y:"\uff59",z:"\uff5a","{":"\uff5b","|":"\uff5c","}":"\uff5d","~":"\uff5e"," ":"\u3000",0:"\uff10",1:"\uff11",2:"\uff12",3:"\uff13",4:"\uff14",5:"\uff15",6:"\uff16",7:"\uff17",8:"\uff18",9:"\uff19","\uff67":"\u30a1","\uff71":"\u30a2","\uff68":"\u30a3","\uff72":"\u30a4","\uff69":"\u30a5","\uff73":"\u30a6","\uff6a":"\u30a7","\uff74":"\u30a8","\uff6b":"\u30a9","\uff75":"\u30aa","\uff76":"\u30ab","\uff76\uff9e":"\u30ac","\uff77":"\u30ad","\uff77\uff9e":"\u30ae","\uff78":"\u30af","\uff78\uff9e":"\u30b0","\uff79":"\u30b1","\uff79\uff9e":"\u30b2","\uff7a":"\u30b3","\uff7a\uff9e":"\u30b4","\uff7b":"\u30b5","\uff7b\uff9e":"\u30b6","\uff7c":"\u30b7","\uff7c\uff9e":"\u30b8","\uff7d":"\u30b9","\uff7d\uff9e":"\u30ba","\uff7e":"\u30bb","\uff7e\uff9e":"\u30bc","\uff7f":"\u30bd","\uff7f\uff9e":"\u30be","\uff80":"\u30bf","\uff80\uff9e":"\u30c0","\uff81":"\u30c1","\uff81\uff9e":"\u30c2","\uff6f":"\u30c3","\uff82":"\u30c4","\uff82\uff9e":"\u30c5","\uff83":"\u30c6","\uff83\uff9e":"\u30c7","\uff84":"\u30c8","\uff84\uff9e":"\u30c9","\uff85":"\u30ca","\uff86":"\u30cb","\uff87":"\u30cc","\uff88":"\u30cd","\uff89":"\u30ce","\uff8a":"\u30cf","\uff8a\uff9e":"\u30d0","\uff8a\uff9f":"\u30d1","\uff8b":"\u30d2","\uff8b\uff9e":"\u30d3","\uff8b\uff9f":"\u30d4","\uff8c":"\u30d5","\uff8c\uff9e":"\u30d6","\uff8c\uff9f":"\u30d7","\uff8d":"\u30d8","\uff8d\uff9e":"\u30d9","\uff8d\uff9f":"\u30da","\uff8e":"\u30db","\uff8e\uff9e":"\u30dc","\uff8e\uff9f":"\u30dd","\uff8f":"\u30de","\uff90":"\u30df","\uff91":"\u30e0","\uff92":"\u30e1","\uff93":"\u30e2","\uff6c":"\u30e3","\uff94":"\u30e4","\uff6d":"\u30e5","\uff95":"\u30e6","\uff6e":"\u30e7","\uff96":"\u30e8","\uff97":"\u30e9","\uff98":"\u30ea","\uff99":"\u30eb","\uff9a":"\u30ec","\uff9b":"\u30ed","\uff9c":"\u30ef","\uff66":"\u30f2","\uff9d":"\u30f3","\uff70":"\u30fc","\u30ee":"\u30ee","\u30f0":"\u30f0","\u30f1":"\u30f1","\u30f5":"\u30f5","\u30f6":"\u30f6","\uff73\uff9e":"\u30f4","\u30fd":"\u30fd","\u30fe":"\u30fe","\uff65":"\u30fb","\uff62":"\u300c","\uff63":"\u300d","\uff61":"\u3002","\uff64":"\u3001"},A=e.split("").map(e=>{var A;return null!==(A=t[e])&&void 0!==A?A:e}).join(""),a=p.a.encode(A,"SJIS");return p.a.decode(a,"SJIS")!==A?C(e):a.length!==2*e.length?C(e):A}const D={[d.Encoding.sp]:"SP",[d.Encoding.lp2]:"LP2",[d.Encoding.lp4]:"LP4"};function S(e){let t=[];if(null!==e)for(let l of e.groups)for(let e of l.tracks){var A,a,n;t.push({index:e.index,title:null!==(A=e.title)&&void 0!==A?A:"Unknown Title",fullWidthTitle:null!==(a=e.fullWidthTitle)&&void 0!==a?a:"",group:null!==(n=l.title)&&void 0!==n?n:null,encoding:D[e.encoding],duration:Object(d.formatTimeFromFrames)(e.duration,!1)})}return t.sort((e,t)=>e.index-t.index),t}function T(e){var t,A;if(!e)return[];let a=[],n=[...null!==(t=null===(A=e.groups.find(e=>null===e.title))||void 0===A?void 0:A.tracks)&&void 0!==t?t:[]],l=0;for(let i of e.groups){if(null===i.title)continue;let e=i.tracks[0].index-l;a.push({index:-1,title:null,fullWidthTitle:null,tracks:0===e?[]:n.splice(0,e)}),l=i.tracks[i.tracks.length-1].index+1,a.push(i)}return a.push({index:-1,title:null,fullWidthTitle:null,tracks:n}),a}function I(e,t,A){let a=t>A?1:-1,n=-1===A;n&&(a=-1,A=e.trackCount);let l=Math.min(t,A),i=Math.max(t,A),r=e.groups.map(e=>e.tracks).reduce((e,t)=>e.concat(t),[]).sort((e,t)=>e.index-t.index).filter(e=>!n||e.index!==t),o=e.groups.filter(e=>null!==e.title).map(e=>({name:e.title,fullWidthName:e.fullWidthTitle,start:e.tracks[0].index,end:e.tracks[0].index+e.tracks.length-1})),c=!1;for(let u of o)u.start>l&&u.start<=i&&(u.start+=a,c=!0),u.end>=l&&u.end<i&&(u.end+=a,c=!0);if(!c)return e;let s={...e};s.groups=o.map(e=>({title:e.name,fullWidthTitle:e.fullWidthName,index:e.start,tracks:r.slice(e.start,e.end+1)})).filter(e=>e.tracks.length>0);let d=s.groups.map(e=>e.tracks).reduce((e,t)=>e.concat(t),[]),m=r.filter(e=>!d.includes(e));if(n)for(let u=0;u<r.length;u++)r[u].index=u;return m.length&&s.groups.unshift({title:null,fullWidthTitle:null,index:0,tracks:m}),s}function j(e){let t=k({...e,title:"",fullWidthTitle:""},!1);const A=e.fullWidthTitle||e.groups.filter(e=>!!e.fullWidthTitle).length>0||e.groups.map(e=>e.tracks).reduce((e,t)=>e.concat(t),[]).filter(e=>!!e.fullWidthTitle).length>0,a=e=>7*Math.ceil(e/7);let n="",l="";e.title&&(n=`0;${e.title}//`),A&&(l=`\uff10\uff1b${e.fullWidthTitle}\uff0f\uff0f`);for(let o of e.groups){var i;if(null===o.title||0===o.tracks.length)continue;let e=`${o.tracks[0].index+1}`;1!==o.tracks.length&&(e+=`-${o.tracks[0].index+o.tracks.length}`);let r=n+`${e};${o.title}//`,c=l+Object(g.halfWidthToFullWidthRange)(e)+`\uff1b${null!==(i=o.fullWidthTitle)&&void 0!==i?i:""}\uff0f\uff0f`,s=a(y(r));if(A&&(s+=a(2*c.length)),t-s<0)break;n=r,l=c}let r=a(y(n));return A&&(r+=a(2*l.length)),t-r<0?null:{newRawTitle:n,newRawFullWidthTitle:A?l:""}}function B(e){if(0===e.length)return!0;let t=e[0];for(let A of e){if(A!==t)return!1;++t}return!0}function N(e,t,A){const a=A.value;return A.value=async function(...e){const t=this.mutex,A=await t.acquire();try{return await a.apply(this,e)}finally{A()}},A}function R(e){return e.breakpoints.up(600+2*e.spacing(2))}function P(e){return e.breakpoints.down(600+2*e.spacing(2))}function M(e){return e.breakpoints.up(700+2*e.spacing(2))+" and (min-height: 750px)"}var F,Q=A(321);const W=A(466);let z=(F=class{constructor({debug:e=!1}){if(this.netmdInterface=void 0,this.logger=void 0,this.cachedContentList=void 0,this.mutex=new Q.a,this.statusMonitorTimer=void 0,e){const e=(...e)=>{e&&e[0]&&e[0].method&&console.log(...e)};this.logger={debug:e,info:e,warn:e,error:e,child:()=>this.logger}}}async writeRawTitles(e){null!==e&&(await this.netmdInterface.cacheTOC(),await this.netmdInterface.setDiscTitle(x(e.newRawTitle)),await this.netmdInterface.setDiscTitle(O(e.newRawFullWidthTitle),!0),await this.netmdInterface.syncTOC(),this.dropCachedContentList())}async listContentUsingCache(){return this.cachedContentList?console.log("There's a cached TOC available."):(console.log("There's no cached version of the TOC, caching"),this.cachedContentList=await Object(d.listContent)(this.netmdInterface)),JSON.parse(JSON.stringify(this.cachedContentList))}dropCachedContentList(){console.log("Cached TOC Dropped"),this.cachedContentList=void 0}async pair(){this.dropCachedContentList();let e=await Object(d.openNewDevice)(navigator.usb,this.logger);return null!==e&&(this.netmdInterface=e,!0)}async connect(){this.dropCachedContentList();let e=await Object(d.openPairedDevice)(navigator.usb,this.logger);return null!==e&&(this.netmdInterface=e,!0)}async listContent(){return this.dropCachedContentList(),await this.listContentUsingCache()}async getDeviceStatus(){return await Object(d.getDeviceStatus)(this.netmdInterface)}async getDeviceName(){return await this.netmdInterface.netMd.getDeviceName()}async finalize(){await this.netmdInterface.netMd.finalize(),this.dropCachedContentList()}async rewriteGroups(e){const t=await this.listContentUsingCache();t.groups=e,await this.writeRawTitles(j(t))}async renameTrack(e,t,A){t=x(t),await this.netmdInterface.cacheTOC(),await this.netmdInterface.setTrackTitle(e,t),void 0!==A&&await this.netmdInterface.setTrackTitle(e,O(A),!0),await this.netmdInterface.syncTOC(),this.dropCachedContentList()}async renameGroup(e,t,A){const a=await this.listContentUsingCache();let n=a.groups.find(t=>t.index===e);n&&(n.title=t,void 0!==A&&(n.fullWidthTitle=A),await this.writeRawTitles(j(a)))}async addGroup(e,t,A){const a=await this.listContentUsingCache();let n=a.groups.find(e=>null===e.title);if(!n)return;let l=n.tracks.length,i=n.tracks.filter(A=>A.index>=e&&A.index<e+t);if(n.tracks=n.tracks.filter(e=>!i.includes(e)),l-n.tracks.length!==t)throw new Error("A track cannot be in 2 groups!");if(!B(i.map(e=>e.index)))throw new Error("Invalid sequence of tracks!");a.groups.push({title:A,fullWidthTitle:"",index:a.groups.length,tracks:i}),a.groups=a.groups.filter(e=>0!==e.tracks.length).sort((e,t)=>e.tracks[0].index-t.tracks[0].index),await this.writeRawTitles(j(a))}async deleteGroup(e){const t=await this.listContentUsingCache();let A=t.groups.findIndex(t=>t.index===e);A>=0&&t.groups.splice(A,1),await this.writeRawTitles(j(t))}async renameDisc(e,t){const A=await this.netmdInterface.getDiscTitle(),a=await this.netmdInterface.getDiscTitle(!0),n=await this.netmdInterface._getDiscTitle(),l=await this.netmdInterface._getDiscTitle(!0),i=n.indexOf("//")>=0,r=n.indexOf("\uff0f\uff0f")>=0,o=n.startsWith("0;"),c=n.startsWith("\uff10\uff1b");if(e=x(e),(t=t&&O(t))!==a&&void 0!==t){let e;e=r?c?l.replace(/^\uff10\uff1b.*?\uff0f\uff0f/,""!==t?`\uff10\uff1b${t}\uff0f\uff0f`:""):`\uff10\uff1b${t}\uff0f\uff0f${l}`:t,await this.netmdInterface.cacheTOC(),await this.netmdInterface.setDiscTitle(e,!0),await this.netmdInterface.syncTOC(),this.dropCachedContentList()}if(e===A)return;let s;s=i?o?n.replace(/^0;.*?\/\//,""!==e?`0;${e}//`:""):`0;${e}//${n}`:e,await this.netmdInterface.cacheTOC(),await this.netmdInterface.setDiscTitle(s),await this.netmdInterface.syncTOC(),this.dropCachedContentList()}async deleteTracks(e){(e=e.sort()).reverse();let t=await this.listContentUsingCache();for(let A of e)t=I(t,A,-1),await this.netmdInterface.eraseTrack(A),await h(100);await this.writeRawTitles(j(t)),this.dropCachedContentList()}async wipeDisc(){await this.netmdInterface.eraseDisc(),this.dropCachedContentList()}async wipeDiscTitleInfo(){await this.writeRawTitles({newRawTitle:"",newRawFullWidthTitle:""})}async moveTrack(e,t,A){await this.netmdInterface.moveTrack(e,t),(void 0===A||A)&&await this.writeRawTitles(j(I(await this.listContentUsingCache(),e,t))),this.dropCachedContentList()}async upload(e,t,A,a,n){let l=A.byteLength,i=0,r=0;function o(){n({written:i,encrypted:r,total:l})}let c=new W,s=Object(m.makeGetAsyncPacketIteratorOnWorkerThread)(c,({encryptedBytes:e})=>{r=e,o()}),u=x(e);t=O(t);let p=new d.MDTrack(u,a,A,524288,t,s);await Object(d.download)(this.netmdInterface,p,({writtenBytes:e})=>{i=e,o()}),c.terminate(),this.dropCachedContentList()}async play(){await this.netmdInterface.play()}async pause(){await this.netmdInterface.pause()}async stop(){await this.netmdInterface.stop()}async next(){await this.netmdInterface.nextTrack()}async prev(){await this.netmdInterface.previousTrack()}async gotoTrack(e){await this.netmdInterface.gotoTrack(e)}async getPosition(){return await this.netmdInterface.getPosition()}},Object(s.a)(F.prototype,"listContent",[N],Object.getOwnPropertyDescriptor(F.prototype,"listContent"),F.prototype),Object(s.a)(F.prototype,"getDeviceStatus",[N],Object.getOwnPropertyDescriptor(F.prototype,"getDeviceStatus"),F.prototype),Object(s.a)(F.prototype,"getDeviceName",[N],Object.getOwnPropertyDescriptor(F.prototype,"getDeviceName"),F.prototype),Object(s.a)(F.prototype,"finalize",[N],Object.getOwnPropertyDescriptor(F.prototype,"finalize"),F.prototype),Object(s.a)(F.prototype,"rewriteGroups",[N],Object.getOwnPropertyDescriptor(F.prototype,"rewriteGroups"),F.prototype),Object(s.a)(F.prototype,"renameTrack",[N],Object.getOwnPropertyDescriptor(F.prototype,"renameTrack"),F.prototype),Object(s.a)(F.prototype,"renameGroup",[N],Object.getOwnPropertyDescriptor(F.prototype,"renameGroup"),F.prototype),Object(s.a)(F.prototype,"addGroup",[N],Object.getOwnPropertyDescriptor(F.prototype,"addGroup"),F.prototype),Object(s.a)(F.prototype,"deleteGroup",[N],Object.getOwnPropertyDescriptor(F.prototype,"deleteGroup"),F.prototype),Object(s.a)(F.prototype,"renameDisc",[N],Object.getOwnPropertyDescriptor(F.prototype,"renameDisc"),F.prototype),Object(s.a)(F.prototype,"deleteTracks",[N],Object.getOwnPropertyDescriptor(F.prototype,"deleteTracks"),F.prototype),Object(s.a)(F.prototype,"wipeDisc",[N],Object.getOwnPropertyDescriptor(F.prototype,"wipeDisc"),F.prototype),Object(s.a)(F.prototype,"wipeDiscTitleInfo",[N],Object.getOwnPropertyDescriptor(F.prototype,"wipeDiscTitleInfo"),F.prototype),Object(s.a)(F.prototype,"moveTrack",[N],Object.getOwnPropertyDescriptor(F.prototype,"moveTrack"),F.prototype),Object(s.a)(F.prototype,"play",[N],Object.getOwnPropertyDescriptor(F.prototype,"play"),F.prototype),Object(s.a)(F.prototype,"pause",[N],Object.getOwnPropertyDescriptor(F.prototype,"pause"),F.prototype),Object(s.a)(F.prototype,"stop",[N],Object.getOwnPropertyDescriptor(F.prototype,"stop"),F.prototype),Object(s.a)(F.prototype,"next",[N],Object.getOwnPropertyDescriptor(F.prototype,"next"),F.prototype),Object(s.a)(F.prototype,"prev",[N],Object.getOwnPropertyDescriptor(F.prototype,"prev"),F.prototype),Object(s.a)(F.prototype,"gotoTrack",[N],Object.getOwnPropertyDescriptor(F.prototype,"gotoTrack"),F.prototype),Object(s.a)(F.prototype,"getPosition",[N],Object.getOwnPropertyDescriptor(F.prototype,"getPosition"),F.prototype),F);var L={},G=A(38),U=A(28),V=A(22);const H=Object(U.b)({name:"uploadDialog",initialState:{visible:!1,cancelled:!1,writtenProgress:0,encryptedProgress:0,totalProgress:1,trackTotal:1,trackConverting:0,trackCurrent:0,titleCurrent:"",titleConverting:""},reducers:{setVisible:(e,t)=>{e.visible=t.payload},setWriteProgress:(e,t)=>{e.encryptedProgress=t.payload.encrypted,e.writtenProgress=t.payload.written,e.totalProgress=t.payload.total},setCancelUpload:(e,t)=>{e.cancelled=t.payload},setTrackProgress:(e,t)=>{e.trackTotal=t.payload.total,e.trackCurrent=t.payload.current,e.trackConverting=t.payload.converting,e.titleCurrent=t.payload.titleCurrent,e.titleConverting=t.payload.titleConverting}}}),{reducer:J,actions:Y}=H;var K=Object(V.enableBatching)(J);const Z=Object(U.b)({name:"renameDialog",initialState:{visible:!1,title:"",fullWidthTitle:"",index:-1,groupIndex:null},reducers:{setVisible:(e,t)=>{e.visible=t.payload},setCurrentName:(e,t)=>{e.title=t.payload},setCurrentFullWidthName:(e,t)=>{e.fullWidthTitle=t.payload},setIndex:(e,t)=>{e.index=t.payload},setGroupIndex:(e,t)=>{e.groupIndex=t.payload}}}),{reducer:X,actions:q}=Z;var $=Object(V.enableBatching)(X);const _={visible:!1,error:""},ee=Object(U.b)({name:"errorDialog",initialState:_,reducers:{setVisible:(e,t)=>{e.visible=t.payload},setErrorMessage:(e,t)=>{e.error=`${t.payload}`}}}),{actions:te,reducer:Ae}=ee;var ae=Object(V.enableBatching)(Ae);const ne=Object(U.b)({name:"panicDialog",initialState:{visible:!1,dismissed:!1},reducers:{setVisible:(e,t)=>{e.visible=t.payload},dismiss:(e,t)=>{e.visible=!1,e.dismissed=!0}}}),{actions:le,reducer:ie}=ne;var re=Object(V.enableBatching)(ie);const oe={visible:!1,format:v("uploadFormat","LP2"),titleFormat:v("trackTitleFormat","filename")},ce=Object(U.b)({name:"convertDialog",initialState:oe,reducers:{setVisible:(e,t)=>{e.visible=t.payload},setFormat:(e,t)=>{e.format=t.payload,w("uploadFormat",e.format)},setTitleFormat:(e,t)=>{e.titleFormat=t.payload,w("trackTitleFormat",e.titleFormat)}}}),{actions:se,reducer:de}=ce;var me=Object(V.enableBatching)(de);const ue=Object(U.b)({name:"dumpDialog",initialState:{visible:!1,inputDeviceId:""},reducers:{setVisible:(e,t)=>{e.visible=t.payload},setInputDeviceId:(e,t)=>{e.inputDeviceId=t.payload}}}),{reducer:pe,actions:ge}=ue;var he=Object(V.enableBatching)(pe);const fe=Object(U.b)({name:"recordDialog",initialState:{visible:!1,trackTotal:1,trackDone:0,trackCurrent:0,titleCurrent:""},reducers:{setVisible:(e,t)=>{e.visible=t.payload},setProgress:(e,t)=>{e.trackTotal=t.payload.trackTotal,e.trackDone=t.payload.trackDone,e.trackCurrent=t.payload.trackCurrent,e.titleCurrent=t.payload.titleCurrent}}}),{reducer:be,actions:Ee}=fe;var we=Object(V.enableBatching)(be);const ve=()=>({mainView:"WELCOME",loading:!1,pairingFailed:!1,pairingMessage:"",browserSupported:!0,darkMode:v("darkMode",!1),vintageMode:v("vintageMode",!1),aboutDialogVisible:!1,notifyWhenFinished:v("notifyWhenFinished",!1),hasNotificationSupport:!0,fullWidthSupport:v("fullWidthSupport",!1)}),ke=ve(),Ce=Object(U.b)({name:"app",initialState:ke,reducers:{setMainView:(e,t)=>{e.mainView=t.payload},setLoading:(e,t)=>{e.loading=t.payload},setPairingFailed:(e,t)=>{e.pairingFailed=t.payload},setPairingMessage:(e,t)=>{e.pairingMessage=t.payload},setBrowserSupported:(e,t)=>{e.browserSupported=t.payload},setDarkMode:(e,t)=>{e.darkMode=t.payload,w("darkMode",e.darkMode)},setNotifyWhenFinished:(e,t)=>{e.notifyWhenFinished=t.payload,w("notifyWhenFinished",t.payload)},setNotificationSupport:(e,t)=>{e.hasNotificationSupport=t.payload},setVintageMode:(e,t)=>{e.vintageMode=t.payload,w("vintageMode",t.payload)},showAboutDialog:(e,t)=>{e.aboutDialogVisible=t.payload},setFullWidthSupport:(e,t)=>{e.fullWidthSupport=t.payload,w("fullWidthSupport",e.fullWidthSupport)}}}),{reducer:ye,actions:xe}=Ce;var Oe=Object(V.enableBatching)(ye);const De=Object(U.b)({name:"main",initialState:{disc:null,deviceName:"",deviceStatus:null},reducers:{setDisc:(e,t)=>{e.disc=t.payload},setDeviceName:(e,t)=>{e.deviceName=t.payload},setDeviceStatus:(e,t)=>{e.deviceStatus=t.payload}}}),{reducer:Se,actions:Te}=De;var Ie=Object(V.enableBatching)(Se);let je=Object(G.c)({renameDialog:$,uploadDialog:K,errorDialog:ae,panicDialog:re,convertDialog:me,dumpDialog:he,recordDialog:we,appState:Oe,main:Ie});const Be=xe.setMainView.toString(),Ne=Object(U.a)({reducer:function(...e){const[t,A]=e;return A.type===Be&&"WELCOME"===A.payload?{...Re,appState:ve()}:je(...e)},middleware:[e=>e=>async t=>{try{await e(t)}catch(A){console.error(A),e(le.setVisible(!0))}},...Object(U.c)()]}),Re=Object.freeze(Ne.getState());var Pe=A(654),Me=A(590),Fe=A(655),Qe=A(630),We=A(320),ze=A(640),Le=A(287),Ge=A(288),Ue=A.n(Ge);function Ve(e,t){return async function(A,a){switch(e){case"play":await L.netmdService.play();break;case"stop":await L.netmdService.stop();break;case"next":await L.netmdService.next();break;case"prev":await L.netmdService.prev();break;case"pause":await L.netmdService.pause();break;case"goto":const e=Object(g.assertNumber)(t,'Invalid track number for "goto" command');await L.netmdService.gotoTrack(e)}await h(500);try{let e=await L.netmdService.getDeviceStatus();A(Te.setDeviceStatus(e))}catch(n){console.log("control: Cannot get device status")}}}function He(){return async function(e,t){e(xe.setPairingFailed(!1)),await L.audioExportService.init();try{if(await L.netmdService.connect())return void e(xe.setMainView("MAIN"))}catch(A){console.error(A)}try{if(await L.netmdService.pair())return void e(xe.setMainView("MAIN"));e(Object(V.batchActions)([xe.setPairingMessage("Connection Failed"),xe.setPairingFailed(!0)]))}catch(A){console.error(A);let t=A.message;e(Object(V.batchActions)([xe.setPairingMessage(t),xe.setPairingFailed(!0)]))}}}function Je(){return async function(e){let t;e(xe.setLoading(!0));try{t=await L.netmdService.listContent()}catch(n){if(!window.confirm("This disc's title seems to be corrupted, do you wish to erase it?\nNone of the tracks will be deleted."))throw n;await L.netmdService.wipeDiscTitleInfo(),t=await L.netmdService.listContent()}let A=await L.netmdService.getDeviceName(),a=null;try{a=await L.netmdService.getDeviceStatus()}catch(l){console.log("listContent: Cannot get device status")}e(Object(V.batchActions)([Te.setDisc(t),Te.setDeviceName(A),Te.setDeviceStatus(a),xe.setLoading(!1)]))}}function Ye(e){return async function(t,A){if("granted"!==Notification.permission){if(!window.confirm("Enable Notification on recording completed?"))return;if("granted"!==await(function(){try{Notification.requestPermission().then()}catch(e){return!1}return!0}()?Notification.requestPermission():new Promise(e=>Notification.requestPermission(e))))return t(xe.setNotificationSupport(!1)),void t(xe.setNotifyWhenFinished(!1))}t(xe.setNotifyWhenFinished(e))}}const Ke={SP:d.Wireformat.pcm,LP2:d.Wireformat.lp2,LP105:d.Wireformat.l105kbps,LP4:d.Wireformat.lp4};async function Ze(e,t){var A,a,n;const l=await e.arrayBuffer(),i=new Blob([new Uint8Array(l)]);let r=await Le.parseBlob(i);const o=null!==(A=r.common.title)&&void 0!==A?A:"Unknown Title",c=null!==(a=r.common.artist)&&void 0!==a?a:"Unknown Artist",s=null!==(n=r.common.album)&&void 0!==n?n:"Unknown Album";switch(t){case"title":return o;case"artist-title":return`${c} - ${o}`;case"title-artist":return`${o} - ${c}`;case"album-title":return`${s} - ${o}`;case"artist-album-title":return`${c} - ${s} - ${o}`;case"filename":{let t=e.name;const A=t.lastIndexOf(".");return A>0&&(t=t.substring(0,A)),t}}}function Xe(e,t,A){return async function(a,n){const{audioExportService:l,netmdService:i}=L,r=Ke[t];await(null===i||void 0===i?void 0:i.stop()),a(Object(V.batchActions)([Y.setVisible(!0),Y.setCancelUpload(!1)]));const o=({written:e,encrypted:t,total:A})=>{a(Y.setWriteProgress({written:e,encrypted:t,total:A}))},c=()=>n().uploadDialog.cancelled;let s={current:0,converting:0,total:e.length,titleCurrent:"",titleConverting:""};const d=()=>{a(Y.setTrackProgress(s))};let m,u=n().main.disc,p=n().appState.fullWidthSupport,g=k(u),h="",f=1;for await(let w of async function*(e){let A=[],a=0;!function n(){if(a===e.length||c())return s.converting=a,s.titleConverting="",void d();let i=e[a];s.converting=a,s.titleConverting=i.name,d(),a++,A.push(new Promise(async(e,A)=>{let a;try{await l.prepare(i),a=await l.export({format:t}),n(),e({file:i,data:a})}catch(r){m=r,h=`${i.name}: Unsupported or unrecognized format`,A(r)}}))}();let n=0;for(;n<A.length;)yield await A[n],delete A[n],n++}(e)){if(c())break;const{file:e,data:t}=w;let a=e.name;try{a=await Ze(e,A)}catch(E){console.error(E)}const n=e=>7*Math.ceil(e/7);let l=a.substr(0,Math.min(y(a),g));g-=n(y(l));let u="";p&&(u=a.substr(0,Math.min(2*a.length,g,210)/2),g-=n(2*u.length)),s.current=f++,s.titleCurrent=l,d(),o({written:0,encrypted:0,total:100});try{await(null===i||void 0===i?void 0:i.upload(l,u,t,r,o))}catch(E){m=E,h=`${e.name}: Error uploading to device. There might not be enough space left.`;break}}let b=[Y.setVisible(!1)];m&&(console.error(m),b=b.concat([te.setVisible(!0),te.setErrorMessage(h)])),a(Object(V.batchActions)(b)),function(){const{notifyWhenFinished:e,hasNotificationSupport:t}=n().appState;t&&e&&(new Notification("MiniDisc recording completed",{icon:Ue.a}).onclick=function(){window.focus(),this.close()})}(),Je()(a)}}var qe=A(629),$e=A(75),_e=A(638),et=A(639),tt=A(661),At=A(627),at=A(621),nt=A(628),lt=A(625),it=A(626),rt=A(624),ot=A(620),ct=A(6),st=A(2);const dt=st.e.div`
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: 2;
`,mt=Object(st.e)(ct.v)`
    width: 80%;
    left: 10%;
    top: 20%;
`,ut=st.e.div`
    display: flex;
    justify-content: flex-end;
    padding-top: 16px;
    width: 100%;
`,pt=Object(st.e)(ct.w)`
    flex: 1 1 auto;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
`,gt=Object(st.e)(ct.c)`
    margin-left: 16px;
    min-width: 90px;
`,ht=Object(st.e)(ct.r)`
    cursor: default;
    &:hover {
        color: ${e=>e.theme.canvasText};
        background-color: initial;
    }
`,ft=st.e.span`
    display: inline-block;
    width: 16px;
    height: 16px;
    margin-left: -1px;
    margin-top: -1px;
    transform: rotateZ(45deg);
    position: relative;

    &:before {
        content: '';
        position: absolute;
        height: 100%;
        width: 3px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #0a0a0a;
    }

    &:after {
        content: '';
        position: absolute;
        height: 3px;
        width: 100%;
        left: 0;
        top: 50%;
        transform: translateY(-50%);
        background-color: #0a0a0a;
    }
`,bt=st.e.button`
    width: 60px;
    height: 60px;
    position: absolute;
    bottom: 40px;
    right: 24px;
    z-index: 1;
    border-radius: 50%;
    background: rgb(185, 106, 201);
    border-width: 4px;
    border-style: solid;
    border-color: rgb(233, 128, 252) rgb(111, 45, 189) rgb(111, 45, 189) rgb(233, 128, 252);
    box-shadow: rgb(0 0 0 / 45%) 4px 4px 10px 0px;

    &:after {
        content: '';
        display: inline-block;
        width: 100%;
        height: 100%;
        background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAADKgAAAyoBEJdYGAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAHWSURBVHic7d3BbdYwGIDhz1wYAakXNmOGdhKY4d+MC1JH4BQurcQ1EmmE3+cZwLbkV04OjrKO45idrLWeZ+b7RcO/HMfx46Kxb/Hp7gVwLwHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAuB0DePpPx77F2umXMWutzzPzc2a+XDTF68x8PY7j90Xjf7g1M893L+IfeZqZb3Pd5r97nZnHzPy6eJ4PsWZmnyOA03Z8B+AEAcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAohzLfy8va6F+zDklO0+DNnqEfC2MY8Lp3jstPkzmwXw5sqjeYtj/287BsAJAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxAogTQJwA4gQQJ4A4AcQJIE4AcQKIE0CcAOIEECeAOAHECSBOAHECiBNAnADiBBAngDgBxAkgTgBxfwAw2y4BcmRzJgAAAABJRU5ErkJggg==');
        background-size: 30px;
        background-repeat: no-repeat;
        filter: drop-shadow(rgb(233, 128, 252) 1px 1px 0px) drop-shadow(rgb(111, 45, 189) -1px -1px 0px);
        background-position: center center;
    }

    &:active {
        border-width: 4px;
        border-style: solid;
        border-color: rgb(111, 45, 189) rgb(233, 128, 252) rgb(233, 128, 252) rgb(111, 45, 189);
        box-shadow: rgb(0 0 0 / 55%) 3px 3px 5px 0px;
    }
`,Et=e=>e.visible?n.a.createElement(dt,null,n.a.createElement(mt,null,n.a.createElement(ct.x,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",{style:{flex:"1 1 auto"}},"About Web MiniDisc"),n.a.createElement(ct.c,{onClick:e.handleClose},n.a.createElement(ft,null))),n.a.createElement(pt,null,"Web MiniDisc uses",n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(ct.a,{rel:"noopener noreferrer",href:"https://www.ffmpeg.org/",target:"_blank"},"FFmpeg")," ","and"," ",n.a.createElement(ct.a,{rel:"noopener noreferrer",href:"https://github.com/ffmpegjs/FFmpeg",target:"_blank"},"ffmpegjs"),", to read your audio files (wav, mp3, ogg, mp4, etc...)."),n.a.createElement("li",null,n.a.createElement(ct.a,{rel:"noopener noreferrer",href:"https://github.com/dcherednik/atracdenc/",target:"_blank"},"Atracdenc"),", to support atrac3 encoding (lp2, lp4 audio formats)."),n.a.createElement("li",null,n.a.createElement(ct.a,{rel:"noopener noreferrer",href:"https://emscripten.org/",target:"_blank"},"Emscripten"),", to run both FFmpeg and Atracdenc in the browser."),n.a.createElement("li",null,n.a.createElement(ct.a,{rel:"noopener noreferrer",href:"https://github.com/cybercase/netmd-js",target:"_blank"},"netmd-js"),", to send commands to NetMD devices using Javascript."),n.a.createElement("li",null,n.a.createElement(ct.a,{rel:"noopener noreferrer",href:"https://github.com/glaubitz/linux-minidisc",target:"_blank"},"linux-minidisc"),", to make the netmd-js project possible."),n.a.createElement("li",null,n.a.createElement(ct.a,{rel:"noopener noreferrer",href:"https://react95.io/",target:"_blank"},"react85"),", to build the vintage user interface."),n.a.createElement("li",null,n.a.createElement(ct.a,{rel:"noopener noreferrer",href:"https://material-ui.com/",target:"_blank"},"material-ui"),", to build the user interface.")),n.a.createElement(ut,null,n.a.createElement(gt,{onClick:e.handleClose},"OK"))))):null,wt=n.a.forwardRef((function(e,t){return n.a.createElement(ot.a,Object.assign({direction:"up",ref:t},e))})),vt=e=>{const t=Object(r.d)();let A=b(e=>e.appState.aboutDialogVisible);const a=()=>{t(xe.showAboutDialog(!1))};if(b(e=>e.appState.vintageMode)){const e={visible:A,handleClose:a};return n.a.createElement(Et,e)}return n.a.createElement(at.a,{open:A,maxWidth:"sm",fullWidth:!0,TransitionComponent:wt,"aria-labelledby":"about-dialog-slide-title"},n.a.createElement(rt.a,{id:"about-dialog-slide-title"},"About Web MiniDisc"),n.a.createElement(lt.a,null,n.a.createElement(it.a,null,"Web MiniDisc uses"),n.a.createElement("ul",null,n.a.createElement("li",null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://www.ffmpeg.org/",target:"_blank"},"FFmpeg")," ","and"," ",n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://github.com/ffmpegjs/FFmpeg",target:"_blank"},"ffmpegjs"),", to read your audio files (wav, mp3, ogg, mp4, etc...)."),n.a.createElement("li",null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://github.com/dcherednik/atracdenc/",target:"_blank"},"Atracdenc"),", to support atrac3 encoding (lp2, lp4 audio formats)."),n.a.createElement("li",null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://emscripten.org/",target:"_blank"},"Emscripten"),", to run both FFmpeg and Atracdenc in the browser."),n.a.createElement("li",null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://github.com/cybercase/netmd-js",target:"_blank"},"netmd-js"),", to send commands to NetMD devices using Javascript."),n.a.createElement("li",null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://github.com/glaubitz/linux-minidisc",target:"_blank"},"linux-minidisc"),", to make the netmd-js project possible."),n.a.createElement("li",null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://react95.io/",target:"_blank"},"react95"),", to build the vintage user interface."),n.a.createElement("li",null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://material-ui.com/",target:"_blank"},"material-ui"),", to build the user interface.")),n.a.createElement(it.a,null,"Attribution"),n.a.createElement("ul",null,n.a.createElement("li",null,"MiniDisc logo from"," ",n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://en.wikipedia.org/wiki/MiniDisc",target:"_blank"},"https://en.wikipedia.org/wiki/MiniDisc")),n.a.createElement("li",null,"MiniDisc icon from"," ",n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://www.deviantart.com/blinkybill/art/Sony-MiniDisc-Plastic-Icon-473812540",target:"_blank"},"http://fav.me/d7u3g3g")))),n.a.createElement(nt.a,null,n.a.createElement(qe.a,{onClick:a},"Close")))};var kt=A(592),Ct=A(322),yt=A(631),xt=A(634),Ot=A(300),Dt=A.n(Ot),St=A(632),Tt=A(633),It=A(662),jt=A(293),Bt=A.n(jt),Nt=A(158),Rt=A.n(Nt),Pt=A(299),Mt=A.n(Pt),Ft=A(294),Qt=A.n(Ft),Wt=A(295),zt=A.n(Wt),Lt=A(297),Gt=A.n(Lt),Ut=A(202),Vt=A.n(Ut),Ht=A(201),Jt=A.n(Ht),Yt=A(292),Kt=A.n(Yt),Zt=A(298),Xt=A.n(Zt);const qt=e=>{const t=[];return"MAIN"===e.mainView&&(t.push(n.a.createElement(ct.i,{key:"update",onClick:e.handleRefresh},"Reload TOC")),t.push(n.a.createElement(ct.i,{key:"title",onClick:e.handleRenameDisc},"Rename Disc")),t.push(n.a.createElement(ct.i,{key:"wipe",onClick:e.handleWipeDisc},"Wipe Disc")),t.push(n.a.createElement(ct.i,{key:"vintage",onClick:e.handleVintageMode},n.a.createElement(ct.d,{checked:!0,name:"vintageMode",variant:"menu",value:"vintageMode",label:"Retro Mode (beta)",defaultChecked:!0}))),t.push(n.a.createElement(ct.e,{key:"d1"})),t.push(n.a.createElement(ct.i,{key:"exit",onClick:e.handleExit},"Exit")),t.push(n.a.createElement(ct.e,{key:"d2"}))),t.push(n.a.createElement(ct.i,{key:"about",onClick:e.handleShowAbout},"About...")),t.push(n.a.createElement(ct.i,{key:"menu-gh"},n.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/cybercase/webminidisc",target:"_blank"},"Fork me on GitHub"))),n.a.createElement(ct.h,{style:{position:"absolute",left:"0",top:"100%",zIndex:"9999"},onClick:e.onClick},t)},$t=Object(Qe.a)(e=>({listItemIcon:{minWidth:e.spacing(5)},toolTippedText:{textDecoration:"underline",textDecorationStyle:"dotted"}})),_t=function(e){const t=$t(),A=Object(r.d)();let{mainView:l,darkMode:i,vintageMode:o,fullWidthSupport:c}=b(e=>e.appState),s=b(e=>{var t,A;return null!==(t=null===(A=e.main.disc)||void 0===A?void 0:A.title)&&void 0!==t?t:""}),d=b(e=>{var t,A;return null!==(t=null===(A=e.main.disc)||void 0===A?void 0:A.fullWidthTitle)&&void 0!==t?t:""});const m=n.a.useRef(null),u=n.a.useRef(null),[p,g]=n.a.useState(null),h=Boolean(p),f=Object(a.useCallback)(e=>{g(e.currentTarget)},[g]),E=Object(a.useCallback)(()=>{A(xe.setDarkMode(!i))},[A,i]),w=Object(a.useCallback)(()=>{A(xe.setVintageMode(!o))},[A,o]),v=Object(a.useCallback)(()=>{g(null)},[g]),k=Object(a.useCallback)(()=>{A((async function(e){if(!window.confirm("Proceed with Wipe Disc? This operation cannot be undone."))return;const{netmdService:t}=L;e(xe.setLoading(!0)),await t.wipeDisc(),Je()(e)})),v()},[A,v]),C=Object(a.useCallback)(()=>{A(xe.setFullWidthSupport(!c))},[A,c]),y=Object(a.useCallback)(()=>{A(Je()),v()},[A,v]),x=Object(a.useCallback)(()=>{A(Object(V.batchActions)([q.setVisible(!0),q.setCurrentName(s),q.setGroupIndex(null),q.setCurrentFullWidthName(d),q.setIndex(-1)])),v()},[A,v,s,d]),O=Object(a.useCallback)(()=>{A(xe.setMainView("WELCOME")),v()},[A,v]),D=Object(a.useCallback)(()=>{A(xe.showAboutDialog(!0)),v()},[A,v]),S=Object(a.useCallback)(e=>{var t;(e.stopPropagation(),e.target!==m.current)&&(null===(t=m.current)||void 0===t||t.click());v()},[v]),T=Object(a.useCallback)(e=>{var t;(e.stopPropagation(),e.target!==u.current)&&(null===(t=u.current)||void 0===t||t.click());v()},[v]),I=[];if("MAIN"===l&&(I.push(n.a.createElement(yt.a,{key:"update",onClick:y},n.a.createElement(St.a,{className:t.listItemIcon},n.a.createElement(Bt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,"Reload TOC"))),I.push(n.a.createElement(yt.a,{key:"title",onClick:x},n.a.createElement(St.a,{className:t.listItemIcon},n.a.createElement(Rt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,"Rename Disc"))),I.push(n.a.createElement(yt.a,{key:"wipe",onClick:k},n.a.createElement(St.a,{className:t.listItemIcon},n.a.createElement(Qt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,"Wipe Disc"))),I.push(n.a.createElement(yt.a,{key:"exit",onClick:O},n.a.createElement(St.a,{className:t.listItemIcon},n.a.createElement(zt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,"Exit")))),"MAIN"===l&&(I.push(n.a.createElement(xt.a,{key:"action-divider"})),I.push(n.a.createElement(yt.a,{key:"allowFullWidth",onClick:C},n.a.createElement(St.a,{className:t.listItemIcon},c?n.a.createElement(Jt.a,{fontSize:"small"}):n.a.createElement(Vt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,c?"Disable ":"Enable ",n.a.createElement(It.a,{title:"This advanced feature enables the use of Hiragana and Kanji alphabets. More about this in Support and FAQ.",arrow:!0},n.a.createElement("span",{className:t.toolTippedText},"Full-Width Title Editing")))))),I.push(n.a.createElement(yt.a,{key:"darkMode",onClick:E},n.a.createElement(St.a,{className:t.listItemIcon},i?n.a.createElement(Jt.a,{fontSize:"small"}):n.a.createElement(Vt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,"Dark Mode"))),"MAIN"===l&&I.push(n.a.createElement(yt.a,{key:"vintageMode",onClick:w},n.a.createElement(St.a,{className:t.listItemIcon},n.a.createElement("img",{alt:"Windows 95",src:Kt.a,width:"24px",height:"24px"})),n.a.createElement(Tt.a,null,"Retro Mode (beta)"))),"MAIN"===l&&I.push(n.a.createElement(xt.a,{key:"feature-divider"})),I.push(n.a.createElement(yt.a,{key:"about",onClick:D},n.a.createElement(St.a,{className:t.listItemIcon},n.a.createElement(Gt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,"About"))),I.push(n.a.createElement(yt.a,{key:"support",onClick:T},n.a.createElement(St.a,{className:t.listItemIcon},n.a.createElement(Xt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://github.com/cybercase/webminidisc/wiki/Support-and-FAQ",target:"_blank",ref:u,onClick:T},"Support and FAQ")))),I.push(n.a.createElement(yt.a,{key:"github",onClick:S},n.a.createElement(St.a,{className:t.listItemIcon},n.a.createElement(Mt.a,{fontSize:"small"})),n.a.createElement(Tt.a,null,n.a.createElement(At.a,{rel:"noopener noreferrer",href:"https://github.com/cybercase/webminidisc",target:"_blank",ref:m,onClick:S},"Fork me on GitHub")))),o){const t={mainView:l,onClick:e.onClick,handleWipeDisc:k,handleRefresh:y,handleRenameDisc:x,handleExit:O,handleShowAbout:D,handleVintageMode:w};return n.a.createElement(qt,t)}return n.a.createElement(n.a.Fragment,null,n.a.createElement(kt.a,{"aria-label":"actions","aria-controls":"actions-menu","aria-haspopup":"true",onClick:f},n.a.createElement(Dt.a,null)),n.a.createElement(Ct.a,{id:"actions-menu",anchorEl:p,keepMounted:!0,open:h,onClose:v},I))};var eA=A(301),tA=A.n(eA);const AA=Object(Qe.a)(e=>({pairingMessage:{color:"red",marginTop:e.spacing(1)},windowContent:{flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}})),aA=e=>{let{dispatch:t,pairingFailed:A,pairingMessage:a}=e;const l=AA();return n.a.createElement(n.a.Fragment,null,n.a.createElement(ct.w,{className:l.windowContent},n.a.createElement("p",{style:{paddingBottom:8}},"Press the button to connect to a NetMD device"),n.a.createElement(ct.c,{style:{minWidth:90},onClick:()=>t(He())},"Connect"),n.a.createElement("p",{style:{visibility:A?"visible":"hidden"},className:l.pairingMessage},a)),n.a.createElement(vt,null))};var nA=A(302),lA=A.n(nA);const iA=Object(Qe.a)(e=>({main:{position:"relative",flex:"1 1 auto",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},button:{marginTop:e.spacing(3),minWidth:150},spacing:{marginTop:e.spacing(1)},chromeLogo:{marginTop:e.spacing(1),width:96,height:96},why:{alignSelf:"flex-start",marginTop:e.spacing(3)},headBox:{display:"flex",justifyContent:"space-between"},connectContainer:{flex:"1 1 auto",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},supportContainer:{flex:"1 1 auto",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"}})),rA=e=>{const t=iA(),A=Object(r.d)(),{browserSupported:l,pairingFailed:i,pairingMessage:o,vintageMode:c}=b(e=>e.appState);o.toLowerCase().match(/denied/);const[s,d]=Object(a.useState)(!1);if(c){const e={dispatch:A,pairingFailed:i,pairingMessage:o};return n.a.createElement(aA,e)}return n.a.createElement(n.a.Fragment,null,n.a.createElement(tt.a,{className:t.headBox},n.a.createElement($e.a,{component:"h1",variant:"h4"},"Web MiniDisc"),n.a.createElement(_t,null)),n.a.createElement($e.a,{component:"h2",variant:"body2"},"Brings NetMD Devices to the Web"),n.a.createElement(tt.a,{className:t.main},l?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:t.connectContainer},n.a.createElement($e.a,{component:"h2",variant:"subtitle1",align:"center",className:t.spacing},"Press the button to connect to a NetMD device"),n.a.createElement(qe.a,{variant:"contained",color:"primary",onClick:()=>A(He()),className:t.button},"Connect"),n.a.createElement(_e.a,{error:!0,className:t.spacing,style:{visibility:i?"visible":"hidden"}},n.a.createElement(et.a,null,o))),n.a.createElement("div",null,n.a.createElement($e.a,{component:"h2",variant:"subtitle1",align:"center",className:t.spacing},n.a.createElement(At.a,{rel:"noopener noreferrer",target:"_blank",href:"https://github.com/cybercase/webminidisc/wiki/Support-and-FAQ"},n.a.createElement("span",{style:{verticalAlign:"middle"}},"Support and FAQ")," ",n.a.createElement(lA.a,{style:{verticalAlign:"middle"},fontSize:"inherit"}))))):n.a.createElement(n.a.Fragment,null,n.a.createElement($e.a,{component:"h2",variant:"subtitle1",align:"center",className:t.spacing},"This Web browser is not supported.\xa0",n.a.createElement(At.a,{rel:"noopener noreferrer",href:"#",onClick:e=>{e.preventDefault(),d(!0)}},"Learn Why")),n.a.createElement(At.a,{rel:"noopener noreferrer",target:"_blank",href:"https://www.google.com/chrome/"},n.a.createElement("img",{alt:"Chrome Logo",src:tA.a,className:t.chromeLogo})),n.a.createElement($e.a,{component:"h2",variant:"subtitle1",align:"center",className:t.spacing},"Try using"," ",n.a.createElement(At.a,{rel:"noopener noreferrer",target:"_blank",href:"https://www.google.com/chrome/"},"Chrome")," ","instead"),s?n.a.createElement(n.a.Fragment,null,n.a.createElement($e.a,{component:"p",variant:"body2",className:t.why},"Web MiniDisc requires a browser that supports both"," ",n.a.createElement(At.a,{rel:"noopener noreferrer",target:"_blank",href:"https://wicg.github.io/webusb/"},"WebUSB")," ","and"," ",n.a.createElement(At.a,{rel:"noopener noreferrer",target:"_blank",href:"https://webassembly.org/"},"WebAssembly"),"."),n.a.createElement("ul",null,n.a.createElement("li",null,"WebUSB is needed to control the NetMD device via the USB connection to your computer."),n.a.createElement("li",null,"WebAssembly is used to convert the music to a MiniDisc compatible format"))):null)),n.a.createElement(vt,null))};var oA=A(4),cA=A(167),sA=A(168),dA=A(13),mA=A(200),uA=A(653),pA=A(163),gA=A.n(pA),hA=A(160),fA=A.n(hA),bA=A(316),EA=A.n(bA),wA=A(650),vA=A(652),kA=A(642),CA=A(651),yA=A(641),xA=A(648),OA=A(203),DA=A(304),SA=A.n(DA),TA=A(102),IA=A.n(TA),jA=A(103),BA=A.n(jA),NA=A(305),RA=A.n(NA);const PA=Object(Qe.a)(e=>({currentTrackRow:{color:e.palette.primary.main,"& > td":{color:"inherit"}},inGroupTrackRow:{"& > $indexCell":{transform:`translateX(${e.spacing(3)}px)`},"& > $titleCell":{transform:`translateX(${e.spacing(3)}px)`}},playButtonInTrackList:{display:"none"},trackRow:{"&:hover":{"& $playButtonInTrackList":{display:"inline-flex"},"& $trackIndex":{display:"none"}}},controlButtonInTrackCommon:{width:e.spacing(2),height:e.spacing(2),verticalAlign:"middle",marginLeft:e.spacing(-.5)},formatBadge:{...OA.styles(e).badge,...OA.styles(e).colorPrimary,position:"static",display:"inline-flex",border:`2px solid ${e.palette.background.paper}`,padding:"0 4px",verticalAlign:"middle",width:e.spacing(4.5),marginRight:e.spacing(.5)},durationCell:{whiteSpace:"nowrap"},durationCellSecondary:{whiteSpace:"nowrap",color:e.palette.text.secondary},durationCellTime:{verticalAlign:"middle"},titleCell:{overflow:"hidden",maxWidth:"40ch",textOverflow:"ellipsis"},deleteGroupButton:{display:"none"},indexCell:{whiteSpace:"nowrap",paddingRight:0,width:e.spacing(4)},trackIndex:{display:"inline-block",height:"16px",width:"16px"},dragHandle:{width:20,padding:`${e.spacing(.5)}px 0 0 0`},dragHandleEmpty:{width:20,padding:`${e.spacing(.5)}px 0 0 0`},groupFolderIcon:{},groupHeadRow:{"&:hover":{"& $deleteGroupButton":{display:"inline-flex"},"& $groupFolderIcon":{display:"none"}}}}));function MA({track:e,inGroup:t,isSelected:A,draggableProvided:l,trackStatus:i,onSelect:r,onRename:o,onTogglePlayPause:c}){var s;const m=PA(),u=Object(a.useCallback)(t=>o(t,e.index),[e.index,o]),p=Object(a.useCallback)(t=>r(t,e.index),[e.index,r]),g=Object(a.useCallback)(t=>{t.stopPropagation(),c(t,e.index)},[e.index,c]),h=Object(a.useCallback)(e=>e.stopPropagation(),[]),f="playing"===i||"paused"===i;return n.a.createElement(yA.a,Object.assign({},l.draggableProps,{ref:l.innerRef,hover:!0,selected:A,onDoubleClick:u,onClick:p,color:"inherit",className:Object(oA.default)(m.trackRow,{[m.inGroupTrackRow]:t,[m.currentTrackRow]:f})}),n.a.createElement(kA.a,Object.assign({className:m.dragHandle},l.dragHandleProps,{onClick:e=>e.stopPropagation()}),n.a.createElement(SA.a,{fontSize:"small",color:"disabled"})),n.a.createElement(kA.a,{className:m.indexCell},n.a.createElement("span",{className:m.trackIndex},e.index+1),n.a.createElement(kt.a,{"aria-label":"delete",className:Object(oA.default)(m.controlButtonInTrackCommon,m.playButtonInTrackList),size:"small",onClick:g,onDoubleClick:h},"paused"===i||"none"===i?n.a.createElement(IA.a,{fontSize:"inherit"}):n.a.createElement(BA.a,{fontSize:"inherit"}))),n.a.createElement(kA.a,{className:m.titleCell,title:null!==(s=e.title)&&void 0!==s?s:""},e.fullWidthTitle?`${e.fullWidthTitle} / `:"",e.title||"No Title"),n.a.createElement(kA.a,{align:"right",className:m.durationCell},n.a.createElement("span",{className:m.formatBadge},D[e.encoding]),n.a.createElement("span",{className:m.durationCellTime},Object(d.formatTimeFromFrames)(e.duration,!1))))}function FA({group:e,onRename:t,onDelete:A}){const l=PA(),i=Object(a.useCallback)(t=>A(t,e.index),[A,e]),r=Object(a.useCallback)(A=>t(A,e.index),[t,e]);return n.a.createElement(yA.a,{hover:!0,className:l.groupHeadRow,onDoubleClick:r},n.a.createElement(kA.a,{className:l.dragHandleEmpty}),n.a.createElement(kA.a,{className:l.indexCell},n.a.createElement(RA.a,{className:Object(oA.default)(l.controlButtonInTrackCommon,l.groupFolderIcon)}),n.a.createElement(kt.a,{"aria-label":"delete",className:Object(oA.default)(l.controlButtonInTrackCommon,l.deleteGroupButton),size:"small",onClick:i},n.a.createElement(fA.a,{fontSize:"inherit"}))),n.a.createElement(kA.a,{className:l.titleCell,title:e.title},e.fullWidthTitle?`${e.fullWidthTitle} / `:"",e.title||"No Name"),n.a.createElement(kA.a,{align:"right",className:l.durationCellSecondary},n.a.createElement("span",{className:l.durationCellTime},Object(d.formatTimeFromFrames)(e.tracks.map(e=>e.duration).reduce((e,t)=>e+t),!1))))}var QA=A(660);const WA=e=>e.renameDialogVisible?n.a.createElement(dt,null,n.a.createElement(mt,null,n.a.createElement(ct.x,null,n.a.createElement("span",null,"Rename ",e.what)),n.a.createElement(ct.w,null,n.a.createElement("p",{style:{marginBottom:4}},e.what," Name:"),n.a.createElement(ct.s,{style:{marginBottom:16},value:e.renameDialogTitle,placeholder:"Type here...",onChange:e.handleChange,onKeyDown:t=>{"Enter"===t.key&&e.handleDoRename()},fullWidth:!0}),n.a.createElement(ut,null,n.a.createElement(gt,{onClick:e.handleDoRename},"OK"),n.a.createElement(gt,{onClick:e.handleCancelRename},"Cancel"))))):null,zA=n.a.forwardRef((function(e,t){return n.a.createElement(ot.a,Object.assign({direction:"up",ref:t},e))})),LA=Object(Qe.a)(e=>({marginUpDown:{marginTop:e.spacing(3),marginBottom:e.spacing(3)}})),GA=e=>{let t=Object(r.d)(),A=LA(),l=b(e=>e.renameDialog.visible),i=b(e=>e.renameDialog.title),o=b(e=>e.renameDialog.fullWidthTitle),c=b(e=>e.renameDialog.index),s=b(e=>e.renameDialog.groupIndex),d=b(e=>e.appState.fullWidthSupport);const m=null!==s?"Group":c<0?"Disc":"Track",u=Object(a.useCallback)(()=>{t(q.setVisible(!1))},[t]),p=Object(a.useCallback)(()=>{t(null!==s?function({groupIndex:e,newName:t,newFullWidthName:A}){return async function(a,n){var l;await(null===(l=L.netmdService)||void 0===l?void 0:l.renameGroup(e,t,A)),Je()(a)}}({newName:i,newFullWidthName:o,groupIndex:s}):c<0?function({newName:e,newFullWidthName:t}){return async function(A){const{netmdService:a}=L;await a.renameDisc(e.replace(/\/\//g," /"),null===t||void 0===t?void 0:t.replace(/\uff0f\uff0f/g,"\uff0f")),A(q.setVisible(!1)),Je()(A)}}({newName:i,newFullWidthName:o}):function({index:e,newName:t,newFullWidthName:A}){return async function(a){const{netmdService:n}=L;a(q.setVisible(!1));try{await n.renameTrack(e,t,A)}catch(l){console.error(l),a(Object(V.batchActions)([te.setVisible(!0),te.setErrorMessage("Rename failed.")]))}Je()(a)}}({index:c,newName:i,newFullWidthName:o})),u()},[t,u,o,s,c,i]),g=Object(a.useCallback)(e=>{t(q.setCurrentName(e.target.value.substring(0,120)))},[t]),h=Object(a.useCallback)(e=>{t(q.setCurrentFullWidthName(e.target.value.substring(0,105)))},[t]),f=Object(a.useCallback)(e=>{"Enter"===e.key&&(e.stopPropagation(),e.preventDefault(),p())},[p]),{vintageMode:E}=b(e=>e.appState);if(E){const e={renameDialogVisible:l,renameDialogTitle:i,renameDialogIndex:c,what:m,handleCancelRename:u,handleDoRename:p,handleChange:g};return n.a.createElement(WA,e)}return n.a.createElement(at.a,{open:l,onClose:u,maxWidth:"sm",fullWidth:!0,TransitionComponent:zA,"aria-labelledby":"rename-dialog-title"},n.a.createElement(rt.a,{id:"rename-dialog-title"},"Rename ",m),n.a.createElement(lt.a,null,n.a.createElement(QA.a,{autoFocus:!0,id:"name",label:`${m} Name`,type:"text",fullWidth:!0,value:i,onKeyDown:f,onChange:g}),d&&n.a.createElement(QA.a,{id:"fullWidthTitle",label:`Full-Width ${m} Name`,type:"text",fullWidth:!0,className:A.marginUpDown,value:o,onKeyDown:f,onChange:h})),n.a.createElement(nt.a,null,n.a.createElement(qe.a,{onClick:u},"Cancel"),n.a.createElement(qe.a,{color:"primary",onClick:p},"Rename")))};var UA=A(645),VA=A(646),HA=A(658);const JA=e=>e.visible?n.a.createElement(dt,null,n.a.createElement(mt,null,n.a.createElement(ct.x,null,n.a.createElement("span",null,"Recording...")),n.a.createElement(pt,null,n.a.createElement("div",{style:{width:"100%"}},100===e.convertedValue&&e.trackConverting===e.trackTotal?"Conversion completed":`Converting ${e.trackConverting+1} of ${e.trackTotal}: ${e.titleConverting}`),n.a.createElement(ct.k,{value:Math.floor(e.convertedValue)}),n.a.createElement("div",{style:{width:"100%",marginTop:16}},"Uploading ",e.trackCurrent," of ",e.trackTotal,": ",e.titleCurrent),n.a.createElement(ct.k,{value:e.progressValue}),n.a.createElement(ut,null,e.hasNotificationSupport?n.a.createElement(ct.d,{name:"notifyOnEnd",label:"Notify when completed",checked:e.notifyWhenFinished,onChange:e.handleNotifyWhenFinishedChanged}):null,n.a.createElement("div",{style:{flex:"1 1 auto"}}),n.a.createElement(ct.c,{disabled:e.cancelled,onClick:e.handleCancelUpload},e.cancelled?"Stopping after current track...":"Cancel Recording"))))):null,YA=Object(Qe.a)(e=>({progressPerc:{marginTop:e.spacing(1)},progressBar:{marginTop:e.spacing(3)},uploadLabel:{marginTop:e.spacing(3)},spacer:{flex:"1 1 auto"},checkBox:{marginLeft:0}})),KA=n.a.forwardRef((function(e,t){return n.a.createElement(ot.a,Object.assign({direction:"up",ref:t},e))})),ZA=e=>{const t=YA(),A=Object(r.d)();let{visible:l,cancelled:i,writtenProgress:o,encryptedProgress:c,totalProgress:s,trackTotal:d,trackCurrent:m,trackConverting:u,titleCurrent:p,titleConverting:g}=b(e=>e.uploadDialog);const{vintageMode:h,notifyWhenFinished:f,hasNotificationSupport:E}=b(e=>e.appState),w=Object(a.useCallback)(()=>{A(Y.setCancelUpload(!0))},[A]),v=Object(a.useCallback)(()=>{A(Ye(!f))},[A,f]);let k=Math.floor(o/s*100),C=Math.floor(c/s*100),y=Math.floor(u/d*100);if(h){const e={visible:l,cancelled:i,writtenProgress:o,encryptedProgress:c,totalProgress:s,trackTotal:d,trackCurrent:m,trackConverting:u,titleCurrent:p,titleConverting:g,handleCancelUpload:w,progressValue:k,bufferValue:C,convertedValue:y,notifyWhenFinished:f,hasNotificationSupport:E,handleNotifyWhenFinishedChanged:v};return n.a.createElement(JA,e)}return n.a.createElement(at.a,{open:l,maxWidth:"sm",fullWidth:!0,TransitionComponent:KA,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},n.a.createElement(rt.a,{id:"alert-dialog-slide-title"},"Recording..."),n.a.createElement(lt.a,null,n.a.createElement(it.a,{id:"alert-dialog-slide-description"},100===y&&u===d?"Conversion completed":`Converting ${u+1} of ${d}: ${g}`),n.a.createElement(UA.a,{className:t.progressBar,variant:0===y?"indeterminate":"determinate",color:"primary",value:y}),n.a.createElement(tt.a,{className:t.progressPerc},y,"%"),n.a.createElement(it.a,{id:"alert-dialog-slide-description",className:t.uploadLabel},"Uploading ",m," of ",d,": ",p),n.a.createElement(UA.a,{className:t.progressBar,variant:"buffer",color:"secondary",value:k,valueBuffer:C}),n.a.createElement(tt.a,{className:t.progressPerc},k,"%")),n.a.createElement(nt.a,null,E?n.a.createElement(VA.a,{className:t.checkBox,disabled:!E,control:n.a.createElement(HA.a,{checked:f,onChange:v,name:"notifyOnEnd"}),label:"Notify when completed"}):null,n.a.createElement("div",{className:t.spacer}),n.a.createElement(qe.a,{disabled:i,onClick:w},i?"Stopping after current track...":"Cancel Recording")))},XA=e=>e.visible?n.a.createElement(dt,null,n.a.createElement(mt,null,n.a.createElement(ct.x,null,n.a.createElement("span",null,"Recording...")),n.a.createElement(pt,null,n.a.createElement("p",{style:{marginBottom:16,width:"100%"}},`Recording track ${e.trackDone+1} of ${e.trackTotal}: ${e.titleCurrent}`),n.a.createElement(ct.k,{value:e.progressValue,hideValue:e.progressValue<0})))):null,qA=Object(Qe.a)(e=>({progressPerc:{marginTop:e.spacing(1)},progressBar:{marginTop:e.spacing(3)}})),$A=n.a.forwardRef((function(e,t){return n.a.createElement(ot.a,Object.assign({direction:"up",ref:t},e))})),_A=e=>{const t=qA();let{visible:A,trackTotal:a,trackDone:l,trackCurrent:i,titleCurrent:r}=b(e=>e.recordDialog),o=Math.round(i);if(b(e=>e.appState.vintageMode)){const e={visible:A,trackTotal:a,trackDone:l,trackCurrent:i,titleCurrent:r,progressValue:o};return n.a.createElement(XA,e)}return n.a.createElement(at.a,{open:A,maxWidth:"sm",fullWidth:!0,TransitionComponent:$A,"aria-labelledby":"record-dialog-slide-title","aria-describedby":"record-dialog-slide-description"},n.a.createElement(rt.a,{id:"record-dialog-slide-title"},"Recording..."),n.a.createElement(lt.a,null,n.a.createElement(it.a,{id:"record-dialog-slide-description"},`Recording track ${l+1} of ${a}: ${r}`),n.a.createElement(UA.a,{className:t.progressBar,variant:i>=0?"determinate":"indeterminate",color:"primary",value:o}),n.a.createElement(tt.a,{className:t.progressPerc},o>=0?`${o}%`:"")),n.a.createElement(nt.a,null))},ea=n.a.forwardRef((function(e,t){return n.a.createElement(ot.a,Object.assign({direction:"up",ref:t},e))})),ta=e=>{const t=Object(r.d)();let{visible:A,error:l}=b(e=>e.errorDialog);const i=Object(a.useCallback)(()=>{t(te.setVisible(!1))},[t]);return n.a.createElement(at.a,{open:A,maxWidth:"sm",fullWidth:!0,TransitionComponent:ea,"aria-labelledby":"error-dialog-slide-title","aria-describedby":"error-dialog-slide-description"},n.a.createElement(rt.a,{id:"alert-dialog-slide-title"},"Error"),n.a.createElement(lt.a,null,n.a.createElement(it.a,{id:"alert-dialog-slide-description"},l)),n.a.createElement(nt.a,null,n.a.createElement(qe.a,{onClick:i},"Close")))},Aa=n.a.forwardRef((function(e,t){return n.a.createElement(ot.a,Object.assign({direction:"up",ref:t},e))})),aa=e=>{const t=Object(r.d)();let{visible:A,dismissed:l}=b(e=>e.panicDialog);const i=Object(a.useCallback)(()=>{window.location.reload()},[]),o=Object(a.useCallback)(()=>{t(le.dismiss())},[t]);return n.a.createElement(at.a,{open:A&&!l,maxWidth:"sm",fullWidth:!0,scroll:"paper",TransitionComponent:Aa,"aria-labelledby":"error-dialog-slide-title","aria-describedby":"error-dialog-slide-description"},n.a.createElement(rt.a,{id:"alert-dialog-slide-title"},"Oops\u2026 Something unexpected happened."),n.a.createElement(lt.a,null,n.a.createElement($e.a,{color:"textSecondary",variant:"body1",component:"div"},"Try to restart the app. If the error persists, try the followings:",n.a.createElement("ol",null,n.a.createElement("li",null,"Use your browser in incognito mode."),n.a.createElement("li",null,"Use a blank MiniDisc."),n.a.createElement("li",null,"Try to use Web MiniDisc on another computer.")),"If this does not solve the error, your unit might not be supported yet or you have encountered a bug. The full error is reported in the JS console.")),n.a.createElement(nt.a,null,n.a.createElement(qe.a,{onClick:o,size:"small"},"Ignore and Continue"),n.a.createElement(qe.a,{onClick:i,color:"primary"},"Restart the App")))};var na=A(647),la=A(664),ia=A(657),ra=A(643),oa=A(659),ca=A(649),sa=A(309),da=A.n(sa),ma=A(310),ua=A.n(ma),pa=A(308),ga=A.n(pa),ha=A(636),fa=A(591),ba=A(656),Ea=A(306),wa=A.n(Ea),va=A(307),ka=A.n(va),Ca=A(162),ya=A.n(Ca);const xa=[{value:"filename",label:"Filename"},{value:"title",label:"Title"},{value:"album-title",label:"Album - Title"},{value:"artist-title",label:"Artist - Title"},{value:"title-artist",label:"Title - Artist"},{value:"artist-album-title",label:"Artist - Album - Title"}],Oa=[{value:"SP",label:"SP"},{value:"LP2",label:"LP2"},{value:"LP4",label:"LP4"}],Da=e=>{const t=Object(a.useContext)(st.a),A=Object(a.useCallback)(()=>e.files.map((A,a)=>{const l=e.selectedTrackIndex===a,i=l?e.selectedTrackRef:null;return n.a.createElement(ht,{key:`${a}`,onClick:()=>e.setSelectedTrack(a),ref:i,style:l?t.selectedTableRow:{}},n.a.createElement(ct.o,null,A.name))}),[e,t]);return e.dialogVisible?n.a.createElement(dt,null,n.a.createElement(mt,null,n.a.createElement(ct.x,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",{style:{flex:"1 1 auto"}},"Upload Settings"),n.a.createElement(ct.c,{onClick:e.handleClose},n.a.createElement(ft,null))),n.a.createElement(pt,null,n.a.createElement("div",{style:{display:"flex",width:"100%"}},n.a.createElement(ct.f,{label:"Recording Mode",style:{display:"flex",flex:"1 1 auto"}},n.a.createElement(ct.l,{defaultValue:e.format,options:Oa,width:90,onChange:(t,A)=>e.handleChangeFormat(t,A.value)})),n.a.createElement(ct.f,{label:"Track title",style:{flex:"1 1 auto",marginLeft:16}},n.a.createElement(ct.l,{defaultValue:e.titleFormat,options:xa,width:180,onChange:e.handleChangeTitleFormat}))),e.tracksOrderVisible?n.a.createElement("div",Object.assign({},e.getRootProps(),{style:{width:"100%",marginTop:16}}),n.a.createElement(ct.e,{style:{marginTop:16}}),n.a.createElement(ct.t,{style:{display:"flex"}},n.a.createElement(ct.c,{variant:"menu",onClick:e.open},"Add..."),n.a.createElement(ct.c,{variant:"menu",disabled:e.disableRemove,onClick:e.handleRemoveSelectedTrack},n.a.createElement("img",{alt:"delete",src:ya.a,style:{marginRight:4}}),"Remove"),n.a.createElement("div",{style:{flex:"1 1 auto"}}),n.a.createElement(ct.c,{variant:"menu",disabled:e.disableRemove,onClick:e.moveFileDown},n.a.createElement("img",{alt:"Move Down",src:ka.a})),n.a.createElement(ct.c,{variant:"menu",disabled:e.disableRemove,onClick:e.moveFileUp},n.a.createElement("img",{alt:"Move Up",src:wa.a}))),n.a.createElement("div",{style:{maxHeight:"30vh",overflow:"scroll"}},n.a.createElement(ct.m,null,n.a.createElement(ct.n,null,A()))),n.a.createElement("input",e.getInputProps())):null,n.a.createElement(ut,null,n.a.createElement(ct.c,{onClick:e.handleToggleTracksOrder},`${e.tracksOrderVisible?"Hide":"Show"} Tracks`),n.a.createElement("div",{style:{flex:"1 1 auto"}}),n.a.createElement(gt,{onClick:e.handleConvert},"OK"),n.a.createElement(gt,{onClick:e.handleClose},"Cancel"))))):null},Sa=n.a.forwardRef((function(e,t){return n.a.createElement(ot.a,Object.assign({direction:"up",ref:t},e))})),Ta=Object(Qe.a)(e=>({container:{display:"flex",flexDirection:"row"},formControl:{minWidth:60},toggleButton:{minWidth:40},dialogContent:{display:"flex",flexDirection:"column",justifyContent:"stretch"},formatAndTitle:{display:"flex",flexWrap:"wrap",justifyContent:"space-between"},rightBlock:{display:"flex",flexDirection:"column"},titleFormControl:{minWidth:170,marginTop:4,[P(e)]:{width:114,minWidth:0}},spacer:{display:"flex",flex:"1 1 auto"},showTracksOrderBtn:{marginLeft:e.spacing(1)},tracksOrderAccordion:{"&:before":{opacity:0}},tracksOrderAccordionDetail:{maxHeight:"40vh",overflow:"auto"},toolbarHighlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(dA.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},trackList:{flex:"1 1 auto"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})),Ia=e=>{const t=Object(r.d)(),A=Ta();let{visible:l,format:i,titleFormat:o}=b(e=>e.convertDialog);const[c,s]=Object(a.useState)(e.files),[d,m]=Object(a.useState)(-1),u=Object(a.useCallback)(e=>{const t=d+e;if(t>=c.length||t<0)return;const A=c.slice();let a=A[d];A[d]=A[t],A[t]=a,s(A),m(t)},[c,d]),p=Object(a.useCallback)(()=>{u(-1)},[u]),g=Object(a.useCallback)(()=>{u(1)},[u]),h=Object(a.useCallback)(()=>{t(se.setVisible(!1))},[t]),f=Object(a.useCallback)((e,A)=>{null!==A&&t(se.setFormat(A))},[t]),E=Object(a.useCallback)(e=>{t(se.setTitleFormat(e.target.value))},[t]),w=Object(a.useCallback)(()=>{h(),t(Xe(c,i,o))},[t,c,i,o,h]),[v,k]=Object(a.useState)(!1),C=Object(a.useCallback)(()=>{k(!v)},[v,k]);Object(a.useEffect)(()=>{const t=Array.from(e.files);s(t),m(-1),k(!1)},[e.files,m,k]);const y=Object(a.useRef)(null);Object(a.useEffect)(()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({block:"nearest",behavior:"smooth"})},[y,d]);const x=Object(a.useCallback)(()=>c.map((e,t)=>{const A=d===t,a=A?y:null;return n.a.createElement(fa.a,{key:`${t}`,disableGutters:!0,onClick:()=>m(t),ref:a,button:!0},n.a.createElement(St.a,null,n.a.createElement(ba.a,{checked:A,value:`track-${t}`,size:"small"})),n.a.createElement(Tt.a,{primary:e.name}))}),[c,d,m,y]),O=Object(a.useCallback)((e,t)=>{const A=c.slice().concat(e);s(A)},[c,s]),{getRootProps:D,getInputProps:S,isDragActive:T,open:I}=Object(cA.a)({onDrop:O,accept:["audio/*","video/mp4"],noClick:!0}),j=d<0||d>=c.length,B=Object(a.useCallback)(()=>{const e=c.filter((e,t)=>t!==d);s(e),d>=e.length&&m(e.length-1)},[d,c,s]),N=b(e=>e.convertDialog.visible);if(Object(a.useEffect)(()=>{N&&0===c.length&&h()},[c,N,h]),b(e=>e.appState.vintageMode)){const e={visible:l,format:i,titleFormat:o,files:c,setFiles:s,selectedTrackIndex:d,setSelectedTrack:m,moveFileUp:p,moveFileDown:g,handleClose:h,handleChangeFormat:f,handleChangeTitleFormat:E,handleConvert:w,tracksOrderVisible:v,setTracksOrderVisible:k,handleToggleTracksOrder:C,selectedTrackRef:y,getRootProps:D,getInputProps:S,isDragActive:T,open:I,disableRemove:j,handleRemoveSelectedTrack:B,dialogVisible:N};return n.a.createElement(Da,e)}return n.a.createElement(at.a,{open:l,maxWidth:"xs",fullWidth:!0,TransitionComponent:Sa,"aria-labelledby":"convert-dialog-slide-title","aria-describedby":"convert-dialog-slide-description"},n.a.createElement(rt.a,{id:"convert-dialog-slide-title"},"Upload Settings"),n.a.createElement(lt.a,{className:A.dialogContent},n.a.createElement("div",{className:A.formatAndTitle},n.a.createElement(_e.a,null,n.a.createElement($e.a,{component:"label",variant:"caption",color:"textSecondary"},"Recording Mode"),n.a.createElement(la.a,{value:i,exclusive:!0,onChange:f,size:"small"},n.a.createElement(na.a,{className:A.toggleButton,value:"SP"},"SP"),n.a.createElement(na.a,{className:A.toggleButton,value:"LP2"},"LP2"),n.a.createElement(na.a,{className:A.toggleButton,value:"LP4"},"LP4"))),n.a.createElement("div",{className:A.rightBlock},n.a.createElement(_e.a,{className:A.formControl},n.a.createElement($e.a,{component:"label",variant:"caption",color:"textSecondary"},"Track title"),n.a.createElement(_e.a,{className:A.titleFormControl},n.a.createElement(ia.a,{value:o,color:"secondary",input:n.a.createElement(ra.a,null),onChange:E},n.a.createElement(yt.a,{value:"filename"},"Filename"),n.a.createElement(yt.a,{value:"title"},"Title"),n.a.createElement(yt.a,{value:"album-title"},"Album - Title"),n.a.createElement(yt.a,{value:"artist-title"},"Artist - Title"),n.a.createElement(yt.a,{value:"title-artist"},"Title - Artist"),n.a.createElement(yt.a,{value:"artist-album-title"},"Artist - Album - Title")))))),n.a.createElement(oa.a,{expanded:v,className:A.tracksOrderAccordion,square:!0},n.a.createElement("div",null),n.a.createElement("div",Object.assign({},D(),{style:{outline:"none"}}),n.a.createElement(xA.a,{variant:"dense",className:A.toolbarHighlight},n.a.createElement(kt.a,{edge:"start","aria-label":"add track",onClick:I},n.a.createElement(gA.a,null)),n.a.createElement(kt.a,{edge:"start","aria-label":"remove track",onClick:B,disabled:j},n.a.createElement(ga.a,null)),n.a.createElement("div",{className:A.spacer}),n.a.createElement(kt.a,{edge:"end","aria-label":"move up",onClick:g},n.a.createElement(da.a,null)),n.a.createElement(kt.a,{edge:"end","aria-label":"move down",onClick:p},n.a.createElement(ua.a,null))),n.a.createElement(ca.a,{className:A.tracksOrderAccordionDetail},n.a.createElement(ha.a,{dense:!0,disablePadding:!1,className:A.trackList},x())),n.a.createElement(Me.a,{className:A.backdrop,open:T},"Drop your Music to add it to the queue"),n.a.createElement("input",S())))),n.a.createElement(nt.a,null,n.a.createElement(qe.a,{onClick:C,className:A.showTracksOrderBtn},`${v?"Hide":"Show"} Tracks`),n.a.createElement("div",{className:A.spacer}),n.a.createElement(qe.a,{onClick:h},"Cancel"),n.a.createElement(qe.a,{onClick:w},"Ok")))};var ja=A(165),Ba=A.n(ja),Na=A(166),Ra=A.n(Na),Pa=A(164),Ma=A.n(Pa);function Fa(){return(Fa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&(e[a]=A[a])}return e}).apply(this,arguments)}var Qa=n.a.createElement("g",{fill:"#000",fillRule:"evenodd"},n.a.createElement("g",{fillRule:"nonzero"},n.a.createElement("path",{d:"M5.756 14.036l2.101 2.14c-2.173 2.135-3.623 4.401-4.303 6.721l-.101.367-2.906-.748c.776-3.013 2.552-5.872 5.209-8.48zM23.576 4.241l.902 2.861c-5.329 1.682-9.916 3.879-13.464 6.436l-.438.322-1.796-2.403c3.894-2.91 8.94-5.368 14.796-7.216zM47.825.5l.054 3c-6.79.122-13.336.962-19.288 2.445l-.846.216-.76-2.902C33.395 1.581 40.477.632 47.825.5zM92.67 14.036l-2.101 2.14c2.173 2.135 3.624 4.401 4.303 6.721l.101.367 2.906-.748c-.776-3.013-2.552-5.872-5.209-8.48zM74.85 4.241l-.902 2.861c5.329 1.682 9.916 3.879 13.464 6.436l.438.322 1.796-2.403c-3.893-2.91-8.94-5.368-14.796-7.216zM50.601.5l-.054 3c6.79.122 13.336.962 19.288 2.445l.846.216.76-2.902C65.031 1.581 57.95.632 50.601.5zM5.756 37.964l2.101-2.14c-2.173-2.135-3.623-4.401-4.303-6.721l-.101-.367-2.906.748c.776 3.013 2.552 5.872 5.209 8.48zM23.576 47.759l.902-2.861c-5.329-1.682-9.916-3.879-13.464-6.436l-.438-.322-1.796 2.403c3.894 2.91 8.94 5.368 14.796 7.216zM47.825 51.5l.054-3c-6.79-.122-13.336-.962-19.288-2.445l-.846-.216-.76 2.902c6.41 1.678 13.492 2.627 20.84 2.759zM92.67 37.964l-2.101-2.14c2.173-2.135 3.624-4.401 4.303-6.721l.101-.367 2.906.748c-.776 3.013-2.552 5.872-5.209 8.48zM74.85 47.759l-.902-2.861c5.329-1.682 9.916-3.879 13.464-6.436l.438-.322 1.796 2.403c-3.893 2.91-8.94 5.368-14.796 7.216zM50.601 51.5l-.054-3c6.79-.122 13.336-.962 19.288-2.445l.846-.216.76 2.902c-6.41 1.678-13.492 2.627-20.84 2.759z"})),n.a.createElement("path",{d:"M53.259 20.337c6.582-5.574 6.582-5.574 14.753-12.436C62.599 6.72 56.322 6 49.946 6c-6.485 0-12.82.747-18.303 1.966 6.675 5.894 7.084 6.191 14.006 12.252 3.48-.293 3.97-.293 7.61.12zM36.927 24.504c.992-1.544 2.25-2.448 5.124-3.474-5.486-4.744-7.34-6.324-14.003-12.173-11.485 3.264-19.33 9.02-20.049 15.647h28.928zM61.159 24.504c14.02 0 20.615 0 30.732-.004-.789-6.629-8.72-12.468-20.269-15.706-2.061 1.766-11.14 9.316-14.827 12.484 1.793.813 3.226 1.35 4.364 3.226zM40.996 30.602c-2.045-.884-3.476-1.935-4.042-3.102-1.056 0-26.431 0-28.782.039C9.53 33.6 16.924 38.847 27.455 41.964c4.236-3.528 8.255-6.948 13.541-11.362zM49.946 45c6.284 0 12.247-.64 17.6-1.79-4.721-4.135-7.729-6.721-13.454-11.689-3.681.692-6.213.59-9.6.068-4.888 4.125-10.974 9.218-13.473 11.324C36.707 44.248 43.137 45 49.946 45zM57.47 30.45c4.38 3.707 9.262 8.068 13.687 11.884 11.265-3.066 19.178-8.5 20.57-14.83H61.18c-.667.999-1.516 1.917-3.71 2.946z"}));const Wa=({svgRef:e,title:t,...A})=>n.a.createElement("svg",Fa({width:98,height:52,viewBox:"0 0 98 52",ref:e},A),t?n.a.createElement("title",null,t):null,Qa),za=n.a.forwardRef((e,t)=>n.a.createElement(Wa,Fa({svgRef:t},e)));A.p;function La(){return(La=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&(e[a]=A[a])}return e}).apply(this,arguments)}var Ga=n.a.createElement("g",{fill:"#000",fillRule:"evenodd"},n.a.createElement("g",{fillRule:"nonzero"},n.a.createElement("path",{d:"M5.756 14.036l2.101 2.14c-2.173 2.135-3.623 4.401-4.303 6.721l-.101.367-2.906-.748c.776-3.013 2.552-5.872 5.209-8.48zM23.576 4.241l.902 2.861c-5.329 1.682-9.916 3.879-13.464 6.436l-.438.322-1.796-2.403c3.894-2.91 8.94-5.368 14.796-7.216zM47.825.5l.054 3c-6.79.122-13.336.962-19.288 2.445l-.846.216-.76-2.902C33.395 1.581 40.477.632 47.825.5zM92.67 14.036l-2.101 2.14c2.173 2.135 3.624 4.401 4.303 6.721l.101.367 2.906-.748c-.776-3.013-2.552-5.872-5.209-8.48zM74.85 4.241l-.902 2.861c5.329 1.682 9.916 3.879 13.464 6.436l.438.322 1.796-2.403c-3.893-2.91-8.94-5.368-14.796-7.216zM50.601.5l-.054 3c6.79.122 13.336.962 19.288 2.445l.846.216.76-2.902C65.031 1.581 57.95.632 50.601.5zM5.756 37.964l2.101-2.14c-2.173-2.135-3.623-4.401-4.303-6.721l-.101-.367-2.906.748c.776 3.013 2.552 5.872 5.209 8.48zM23.576 47.759l.902-2.861c-5.329-1.682-9.916-3.879-13.464-6.436l-.438-.322-1.796 2.403c3.894 2.91 8.94 5.368 14.796 7.216zM47.825 51.5l.054-3c-6.79-.122-13.336-.962-19.288-2.445l-.846-.216-.76 2.902c6.41 1.678 13.492 2.627 20.84 2.759zM92.67 37.964l-2.101-2.14c2.173-2.135 3.624-4.401 4.303-6.721l.101-.367 2.906.748c-.776 3.013-2.552 5.872-5.209 8.48zM74.85 47.759l-.902-2.861c5.329-1.682 9.916-3.879 13.464-6.436l.438-.322 1.796 2.403c-3.893 2.91-8.94 5.368-14.796 7.216zM50.601 51.5l-.054-3c6.79-.122 13.336-.962 19.288-2.445l.846-.216.76 2.902c-6.41 1.678-13.492 2.627-20.84 2.759z"})),n.a.createElement("path",{d:"M36.927 24.504c.992-1.544 2.25-2.448 5.124-3.474-5.486-4.744-7.34-6.324-14.003-12.173-11.485 3.264-19.33 9.02-20.049 15.647h28.928zM57.47 30.45c4.38 3.707 9.262 8.068 13.687 11.884 11.265-3.066 19.178-8.5 20.57-14.83H61.18c-.667.999-1.516 1.917-3.71 2.946z"}));const Ua=({svgRef:e,title:t,...A})=>n.a.createElement("svg",La({width:98,height:52,viewBox:"0 0 98 52",ref:e},A),t?n.a.createElement("title",null,t):null,Ga),Va=n.a.forwardRef((e,t)=>n.a.createElement(Ua,La({svgRef:t},e)));A.p;function Ha(){return(Ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&(e[a]=A[a])}return e}).apply(this,arguments)}var Ja=n.a.createElement("g",{fill:"#000",fillRule:"evenodd"},n.a.createElement("g",{fillRule:"nonzero"},n.a.createElement("path",{d:"M5.756 14.036l2.101 2.14c-2.173 2.135-3.623 4.401-4.303 6.721l-.101.367-2.906-.748c.776-3.013 2.552-5.872 5.209-8.48zM23.576 4.241l.902 2.861c-5.329 1.682-9.916 3.879-13.464 6.436l-.438.322-1.796-2.403c3.894-2.91 8.94-5.368 14.796-7.216zM47.825.5l.054 3c-6.79.122-13.336.962-19.288 2.445l-.846.216-.76-2.902C33.395 1.581 40.477.632 47.825.5zM92.67 14.036l-2.101 2.14c2.173 2.135 3.624 4.401 4.303 6.721l.101.367 2.906-.748c-.776-3.013-2.552-5.872-5.209-8.48zM74.85 4.241l-.902 2.861c5.329 1.682 9.916 3.879 13.464 6.436l.438.322 1.796-2.403c-3.893-2.91-8.94-5.368-14.796-7.216zM50.601.5l-.054 3c6.79.122 13.336.962 19.288 2.445l.846.216.76-2.902C65.031 1.581 57.95.632 50.601.5zM5.756 37.964l2.101-2.14c-2.173-2.135-3.623-4.401-4.303-6.721l-.101-.367-2.906.748c.776 3.013 2.552 5.872 5.209 8.48zM23.576 47.759l.902-2.861c-5.329-1.682-9.916-3.879-13.464-6.436l-.438-.322-1.796 2.403c3.894 2.91 8.94 5.368 14.796 7.216zM47.825 51.5l.054-3c-6.79-.122-13.336-.962-19.288-2.445l-.846-.216-.76 2.902c6.41 1.678 13.492 2.627 20.84 2.759zM92.67 37.964l-2.101-2.14c2.173-2.135 3.624-4.401 4.303-6.721l.101-.367 2.906.748c-.776 3.013-2.552 5.872-5.209 8.48zM74.85 47.759l-.902-2.861c5.329-1.682 9.916-3.879 13.464-6.436l.438-.322 1.796 2.403c-3.893 2.91-8.94 5.368-14.796 7.216zM50.601 51.5l-.054-3c6.79-.122 13.336-.962 19.288-2.445l.846-.216.76 2.902c-6.41 1.678-13.492 2.627-20.84 2.759z"})),n.a.createElement("path",{d:"M53.259 20.337c6.582-5.574 6.582-5.574 14.753-12.436C62.599 6.72 56.322 6 49.946 6c-6.485 0-12.82.747-18.303 1.966 6.675 5.894 7.084 6.191 14.006 12.252 3.48-.293 3.97-.293 7.61.12zM49.946 45c6.284 0 12.247-.64 17.6-1.79-4.721-4.135-7.729-6.721-13.454-11.689-3.681.692-6.213.59-9.6.068-4.888 4.125-10.974 9.218-13.473 11.324C36.707 44.248 43.137 45 49.946 45z"}));const Ya=({svgRef:e,title:t,...A})=>n.a.createElement("svg",Ha({width:98,height:52,viewBox:"0 0 98 52",ref:e},A),t?n.a.createElement("title",null,t):null,Ja),Ka=n.a.forwardRef((e,t)=>n.a.createElement(Ya,Ha({svgRef:t},e)));A.p;function Za(){return(Za=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var A=arguments[t];for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&(e[a]=A[a])}return e}).apply(this,arguments)}var Xa=n.a.createElement("g",{fill:"#000",fillRule:"evenodd"},n.a.createElement("g",{fillRule:"nonzero"},n.a.createElement("path",{d:"M5.756 14.036l2.101 2.14c-2.173 2.135-3.623 4.401-4.303 6.721l-.101.367-2.906-.748c.776-3.013 2.552-5.872 5.209-8.48zM23.576 4.241l.902 2.861c-5.329 1.682-9.916 3.879-13.464 6.436l-.438.322-1.796-2.403c3.894-2.91 8.94-5.368 14.796-7.216zM47.825.5l.054 3c-6.79.122-13.336.962-19.288 2.445l-.846.216-.76-2.902C33.395 1.581 40.477.632 47.825.5zM92.67 14.036l-2.101 2.14c2.173 2.135 3.624 4.401 4.303 6.721l.101.367 2.906-.748c-.776-3.013-2.552-5.872-5.209-8.48zM74.85 4.241l-.902 2.861c5.329 1.682 9.916 3.879 13.464 6.436l.438.322 1.796-2.403c-3.893-2.91-8.94-5.368-14.796-7.216zM50.601.5l-.054 3c6.79.122 13.336.962 19.288 2.445l.846.216.76-2.902C65.031 1.581 57.95.632 50.601.5zM5.756 37.964l2.101-2.14c-2.173-2.135-3.623-4.401-4.303-6.721l-.101-.367-2.906.748c.776 3.013 2.552 5.872 5.209 8.48zM23.576 47.759l.902-2.861c-5.329-1.682-9.916-3.879-13.464-6.436l-.438-.322-1.796 2.403c3.894 2.91 8.94 5.368 14.796 7.216zM47.825 51.5l.054-3c-6.79-.122-13.336-.962-19.288-2.445l-.846-.216-.76 2.902c6.41 1.678 13.492 2.627 20.84 2.759zM92.67 37.964l-2.101-2.14c2.173-2.135 3.624-4.401 4.303-6.721l.101-.367 2.906.748c-.776 3.013-2.552 5.872-5.209 8.48zM74.85 47.759l-.902-2.861c5.329-1.682 9.916-3.879 13.464-6.436l.438-.322 1.796 2.403c-3.893 2.91-8.94 5.368-14.796 7.216zM50.601 51.5l-.054-3c6.79-.122 13.336-.962 19.288-2.445l.846-.216.76 2.902c-6.41 1.678-13.492 2.627-20.84 2.759z"})),n.a.createElement("path",{d:"M61.159 24.504c14.02 0 20.615 0 30.732-.004-.789-6.629-8.72-12.468-20.269-15.706-2.061 1.766-11.14 9.316-14.827 12.484 1.793.813 3.226 1.35 4.364 3.226zM40.996 30.602c-2.045-.884-3.476-1.935-4.042-3.102-1.056 0-26.431 0-28.782.039C9.53 33.6 16.924 38.847 27.455 41.964c4.236-3.528 8.255-6.948 13.541-11.362z"}));const qa=({svgRef:e,title:t,...A})=>n.a.createElement("svg",Za({width:98,height:52,viewBox:"0 0 98 52",ref:e},A),t?n.a.createElement("title",null,t):null,Xa),$a=n.a.forwardRef((e,t)=>n.a.createElement(qa,Za({svgRef:t},e)));A.p;const _a=Object(Qe.a)(e=>({container:{display:"flex",flex:"1 1 auto",alignItems:"center",[P(e)]:{flexWrap:"wrap"}},lcd:{backgroundColor:"black !important",flex:"1 1 auto",margin:"0 80px 0 0px",minWidth:150,height:48,color:"white !important",fontFamily:"LCDDot"}})),en=e=>{const t=_a();return n.a.createElement("div",{className:t.container},n.a.createElement(ct.c,{onClick:e.handlePrev},n.a.createElement(Ma.a,null)),n.a.createElement(ct.c,{onClick:e.handlePlay},n.a.createElement(IA.a,null)),n.a.createElement(ct.c,{onClick:e.handlePause},n.a.createElement(BA.a,null)),n.a.createElement(ct.c,{onClick:e.handleStop},n.a.createElement(Ba.a,null)),n.a.createElement(ct.c,{onClick:e.handleNext,style:{marginRight:16}},n.a.createElement(Ra.a,null)),n.a.createElement(ct.j,{variant:"well",className:t.lcd},n.a.createElement("div",{className:e.classes.lcdText,style:{left:16,width:"calc(100% - 16px)"}},n.a.createElement("span",{className:e.lcdScroll?e.classes.scrollingStatusMessage:e.classes.statusMessage,ref:e.lcdRef,style:e.message&&e.lcdScroll>0?{animationDuration:`${e.lcdScrollDuration}s`,transform:`translate(-${e.lcdScroll}%)`,top:12}:{top:12}},e.message))))},tn=[za,Va,Ka,$a],An=Object(Qe.a)(e=>({"@keyframes scrollLeft":{from:{transform:"translateX(0%)"},to:{}},"@keyframes blink":{"50%":{visibility:"hidden"}},container:{display:"flex",flex:"1 1 auto",[P(e)]:{flexWrap:"wrap"}},lcd:{flex:"1 1 auto",position:"relative",marginLeft:e.spacing(1.5),marginRight:e.spacing(1.5),paddingLeft:e.spacing(3),paddingRight:e.spacing(3),borderRadius:e.spacing(3),backgroundColor:e.palette.background.default,minWidth:150,height:48,[P(e)]:{marginLeft:0,marginRight:e.spacing(2)}},lcdText:{overflow:"hidden",position:"relative",width:"calc(100% - 40px)",left:40,height:"100%",fontFamily:"LCDDot"},lcdDisc:{position:"absolute",top:0,left:20},lcdDiscIcon:{width:28,height:48,"& g":{fill:e.palette.action.active}},scrollingStatusMessage:{position:"absolute",width:"100%",whiteSpace:"nowrap",animationName:"$scrollLeft",animationTimingFunction:"linear",animationIterationCount:"1",top:15,left:1},statusMessage:{position:"absolute",width:"100%",whiteSpace:"nowrap",top:15,left:1},lcdBlink:{animationName:"$blink",animationTimingFunction:"step-end",animationDuration:"1s",animationIterationCount:"infinite"},button:{}})),an=()=>{var e,t,A;const l=Object(r.d)(),i=b(e=>e.main.deviceStatus),o=b(e=>e.main.disc),c=An(),s=Object(a.useCallback)(()=>{l(Ve("prev"))},[l]),d=Object(a.useCallback)(()=>{l(Ve("play"))},[l]),m=Object(a.useCallback)(()=>{l(Ve("stop"))},[l]),u=Object(a.useCallback)(()=>{l(Ve("next"))},[l]),p=Object(a.useCallback)(()=>{l(Ve("pause"))},[l]);let g="",h=null!==(e=null===i||void 0===i?void 0:i.track)&&void 0!==e?e:null,f=null!==(t=null===i||void 0===i?void 0:i.state)&&void 0!==t?t:null,E=null!==(A=null===i||void 0===i?void 0:i.discPresent)&&void 0!==A&&A,w="paused"===(null===i||void 0===i?void 0:i.state);const v=S(o);if(E){if("readingTOC"===f)g="READING TOC";else if(0===v.length)g="BLANKDISC";else if(i&&null!==i.track&&v[i.track]){let e=v[i.track].fullWidthTitle||v[i.track].title;g=(i.track+1).toString().padStart(3,"0")+(e?" - "+e:"")}}else g="";const[k,C]=Object(a.useState)(0),[y,x]=Object(a.useState)(0),[O,D]=Object(a.useState)(0),T=Object(a.useRef)(null),I=Object(a.useRef)(null);Object(a.useEffect)(()=>(clearTimeout(T.current),C(0),T.current=setTimeout(()=>{(()=>{var e,t,A;const a=I.current,n=null!==(e=null===a||void 0===a?void 0:a.scrollWidth)&&void 0!==e?e:0,l=null!==(t=null===a||void 0===a?void 0:null===(A=a.parentElement)||void 0===A?void 0:A.offsetWidth)&&void 0!==t?t:0,i=n>l?n/20:0;C(n>l?100*n/l:0),x(i),i>0&&(T.current=setTimeout(()=>{C(0)},1e3*i+500))})()},2e3),()=>{clearTimeout(T.current)}),[h,f,g]);const j=Object(a.useRef)(null);Object(a.useEffect)(()=>(clearInterval(j.current),"playing"===f||"readingTOC"===f?j.current=setInterval(()=>{D(1+O%(tn.length-1))},600):D(0),()=>{clearInterval(j.current)}),[f,O]);const B=tn[O];if(b(e=>e.appState.vintageMode)){const e={handlePrev:s,handlePlay:d,handleStop:m,handlePause:p,handleNext:u,message:g,discPresent:E,lcdScroll:k,lcdRef:I,lcdScrollDuration:y,classes:c};return n.a.createElement(en,e)}return n.a.createElement(tt.a,{className:c.container},n.a.createElement(kt.a,{"aria-label":"prev",onClick:s,className:c.button},n.a.createElement(Ma.a,null)),n.a.createElement(kt.a,{"aria-label":"play",onClick:d,className:c.button},n.a.createElement(IA.a,null)),n.a.createElement(kt.a,{"aria-label":"pause",onClick:p,className:c.button},n.a.createElement(BA.a,null)),n.a.createElement(kt.a,{"aria-label":"stop",onClick:m,className:c.button},n.a.createElement(Ba.a,null)),n.a.createElement(kt.a,{"aria-label":"next",onClick:u,className:c.button},n.a.createElement(Ra.a,null)),n.a.createElement("div",{className:c.lcd},n.a.createElement("div",{className:c.lcdText},n.a.createElement("span",{className:k?c.scrollingStatusMessage:c.statusMessage,ref:I,style:g&&k>0?{animationDuration:`${y}s`,transform:`translate(-${k}%)`}:{}},g)),n.a.createElement("div",{className:c.lcdDisc},E&&n.a.createElement(B,{className:Object(oA.default)(c.lcdDiscIcon,{[c.lcdBlink]:w})}))))},nn=e=>e.visible?n.a.createElement(dt,null,n.a.createElement(mt,null,n.a.createElement(ct.x,{style:{display:"flex",alignItems:"center"}},n.a.createElement("span",{style:{flex:"1 1 auto"}},"Record Selected Tracks"),n.a.createElement(ct.c,{onClick:e.handleClose},n.a.createElement(ft,null))),n.a.createElement(pt,null,n.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"flex-Start",flexDirection:"column"}},n.a.createElement("p",null,"1. Connect your MD Player line-out to your PC audio line-in."),n.a.createElement("p",null,"2. Use the controls at the bottom right to play some tracks."),n.a.createElement("p",null,"3. Select the input source. You should hear the tracks playing on your PC."),n.a.createElement("p",null,"4. Adjust the input gain and the line-out volume of your device."),n.a.createElement(ct.f,{label:"Input Source",style:{display:"flex",flex:"1 1 auto",margin:"32px 0"}},n.a.createElement(ct.l,{defaultValue:e.inputDeviceId||"",options:e.devices.concat([{deviceId:"",label:"None"}]).map(({deviceId:e,label:t})=>({value:e,label:t})),onChange:e.handleChange,width:200})),n.a.createElement(an,null)),n.a.createElement(ut,null,n.a.createElement("div",{style:{flex:"1 1 auto"}}),n.a.createElement(gt,{onClick:e.handleClose},"Cancel"),n.a.createElement(gt,{onClick:e.handleStartTransfer,disabled:""===e.inputDeviceId},"Start Record"))))):null,ln=n.a.forwardRef((function(e,t){return n.a.createElement(ot.a,Object.assign({direction:"up",ref:t},e))})),rn=Object(Qe.a)(e=>({container:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between",marginRight:-e.spacing(2),flexFlow:"wrap"},formControl:{minWidth:120},selectEmpty:{marginTop:e.spacing(2)},head:{textShadow:"0px 0px 12px rgba(150, 150, 150, 1)",fontSize:e.typography.h2.fontSize,textAlign:"center",marginBottom:e.spacing(2)}})),on=({trackIndexes:e})=>{const t=Object(r.d)(),A=rn(),[l,i]=Object(a.useState)([]),[o,c]=Object(a.useState)("");let{visible:s}=b(e=>e.dumpDialog);const m=Object(a.useCallback)(()=>{var e;c(""),null===(e=L.mediaRecorderService)||void 0===e||e.stopTestInput(),t(ge.setVisible(!1))},[t]),u=Object(a.useCallback)(e=>{var t,A;const a=e.target.value;c(a),null===(t=L.mediaRecorderService)||void 0===t||t.stopTestInput(),null===(A=L.mediaRecorderService)||void 0===A||A.playTestInput(a)},[c]),p=Object(a.useCallback)(()=>{var A,a;t((A=e,a=o,async function(e,t){e(Object(V.batchActions)([Ee.setVisible(!0),Ee.setProgress({trackTotal:A.length,trackDone:0,trackCurrent:0,titleCurrent:""})]));let n=t().main.disc,l=Object(d.getTracks)(n).filter(e=>A.indexOf(e.index)>=0);const{netmdService:i,mediaRecorderService:r}=L;await L.netmdService.stop();for(let[A,c]of l.entries()){var o;e(Ee.setProgress({trackTotal:l.length,trackDone:A,trackCurrent:-1,titleCurrent:null!==(o=c.title)&&void 0!==o?o:""})),await i.gotoTrack(c.index),await i.play(),console.log("Waiting for track to be ready to play");let t=await i.getPosition(),n=[c.index,0,0,1];for(;null===t||!n.every((e,A)=>n[A]===t[A]);)await h(250),t=await i.getPosition();await i.pause(),await(null===i||void 0===i?void 0:i.gotoTrack(c.index)),console.log("Track is ready to play"),await(null===r||void 0===r?void 0:r.initStream(a)),await(null===r||void 0===r?void 0:r.startRecording()),await i.play();let s=c.duration/512;await f(1e3*s,t=>{var a;e(Ee.setProgress({trackTotal:l.length,trackDone:A,trackCurrent:t,titleCurrent:null!==(a=c.title)&&void 0!==a?a:""}))}),await(null===r||void 0===r?void 0:r.stopRecording());const d=c.title||`Track ${c.index+1}`;null===r||void 0===r||r.downloadRecorded(`${d}`),await(null===r||void 0===r?void 0:r.closeStream())}await i.stop(),e(Ee.setVisible(!1))})),m()},[e,o,t,m]);if(Object(a.useEffect)(()=>{s&&async function(){await navigator.mediaDevices.getUserMedia({audio:!0});let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"audioinput"===e.kind).map(e=>({deviceId:e.deviceId,label:e.label}));i(e)}()},[s,i]),b(e=>e.appState.vintageMode)){const e={handleClose:m,handleChange:u,handleStartTransfer:p,visible:s,devices:l,inputDeviceId:o};return n.a.createElement(nn,e)}return n.a.createElement(at.a,{open:s,maxWidth:"sm",fullWidth:!0,TransitionComponent:ln,"aria-labelledby":"dump-dialog-slide-title","aria-describedby":"dump-dialog-slide-description"},n.a.createElement(rt.a,{id:"dump-dialog-slide-title"},"Record Selected Tracks"),n.a.createElement(lt.a,null,n.a.createElement($e.a,{component:"p",variant:"h2",className:A.head},"\ud83d\udcbb \u2b05 \ud83d\udcbd"),n.a.createElement($e.a,{component:"p",variant:"body2"},"1. Connect your MD Player line-out to your PC audio line-in."),n.a.createElement($e.a,{component:"p",variant:"body2"},"2. Use the controls at the bottom right to play some tracks."),n.a.createElement($e.a,{component:"p",variant:"body2"},"3. Select the input source. You should hear the tracks playing on your PC."),n.a.createElement($e.a,{component:"p",variant:"body2"},"4. Adjust the input gain and the line-out volume of your device."),n.a.createElement(tt.a,{className:A.container},n.a.createElement(_e.a,{className:A.formControl},n.a.createElement(ia.a,{value:o,onChange:u,displayEmpty:!0,className:A.selectEmpty},n.a.createElement(yt.a,{value:"",disabled:!0},"Input Source"),l.map(e=>n.a.createElement(yt.a,{key:e.deviceId,value:e.deviceId},e.label))),n.a.createElement(et.a,null,"Input Source")),n.a.createElement(an,null))),n.a.createElement(nt.a,null,n.a.createElement(qe.a,{onClick:m},"Cancel"),n.a.createElement(qe.a,{onClick:p,disabled:""===o},"Start Record")))};var cn=A(311),sn=A.n(cn),dn=A(312),mn=A.n(dn),un=A(313),pn=A.n(un),gn=A(314),hn=A.n(gn),fn=A(315),bn=A.n(fn);const En=Object(Qe.a)(e=>({container:{width:"100%",flex:"1 1 auto",display:"flex",minHeight:0,"& > div":{display:"flex",flexDirection:"column",width:"100%"}},table:{height:"100%",width:"100%",display:"flex !important",flexDirection:"column"},windowContent:{flex:"1 1 auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",minHeight:0},controlsContainer:{width:"100%",marginTop:16},toolbarIcon:{marginRight:4},toolbarItem:{padding:"6px 10px"}})),wn=e=>{var t,A,l;const i=En(),r=Object(a.useContext)(st.a),{mainView:o}=b(e=>e.appState);return n.a.createElement(n.a.Fragment,null,n.a.createElement(ct.e,null),n.a.createElement(ct.t,{style:{flexWrap:"wrap",position:"relative"}},0===e.selectedCount?n.a.createElement(n.a.Fragment,null,n.a.createElement("img",{alt:"device",src:hn.a,style:{marginTop:-10,marginLeft:10}}),n.a.createElement("div",{className:i.toolbarItem},`${e.deviceName}: (`||"Loading...",(null===(t=e.disc)||void 0===t?void 0:t.fullWidthTitle)&&`${null===(A=e.disc)||void 0===A?void 0:A.fullWidthTitle} / `,(null===(l=e.disc)||void 0===l?void 0:l.title)||"Untitled Disc",")"),n.a.createElement(ct.b,{size:35}),n.a.createElement("img",{alt:"minidisc",src:bn.a,style:{width:32,marginLeft:10}}),null!==e.disc?n.a.createElement(ct.u,{text:`${Object(d.formatTimeFromFrames)(2*e.disc.left,!1)} in LP2 or ${Object(d.formatTimeFromFrames)(4*e.disc.left,!1)} in LP4`,enterDelay:100,leaveDelay:500},n.a.createElement("div",{className:i.toolbarItem},`${Object(d.formatTimeFromFrames)(e.disc.left,!1)} left of ${Object(d.formatTimeFromFrames)(e.disc.total,!1)} `)):null):null,e.selectedCount>0?n.a.createElement(n.a.Fragment,null,n.a.createElement(ct.c,{variant:"menu",disabled:1!==e.selectedCount,onClick:e.handleShowMoveMenu},n.a.createElement("img",{alt:"move",src:mn.a,className:i.toolbarIcon}),"Move"),n.a.createElement(ct.c,{variant:"menu",onClick:e.handleShowDumpDialog},n.a.createElement("img",{alt:"record",src:sn.a,className:i.toolbarIcon}),"Record"),n.a.createElement(ct.c,{variant:"menu",onClick:e.handleDeleteSelected},n.a.createElement("img",{alt:"delete",src:ya.a,className:i.toolbarIcon}),"Delete"),n.a.createElement(ct.c,{variant:"menu",onClick:e.handleRenameActionClick,disabled:e.selectedCount>1},n.a.createElement("img",{alt:"rename",src:pn.a,className:i.toolbarIcon}),"Rename"),e.moveMenuAnchorEl?n.a.createElement(ct.h,{style:{position:"absolute",left:16,top:32,zIndex:2}},Array(e.tracks.length).fill(null).map((t,A)=>n.a.createElement(ct.i,{key:`pos-${A}`,onClick:()=>e.handleMoveSelectedTrack(A)},A+1))):null):null,n.a.createElement(ct.b,{size:35})),n.a.createElement(ct.e,null),n.a.createElement(ct.w,{className:i.windowContent},n.a.createElement("div",Object.assign({className:i.container},e.getRootProps(),{style:{outline:"none"}}),n.a.createElement("input",e.getInputProps()),n.a.createElement(ct.m,{className:i.table},n.a.createElement(ct.p,null,n.a.createElement(ct.r,{head:!0,style:{display:"flex"}},n.a.createElement(ct.q,{style:{width:"2ch"}},"#"),n.a.createElement(ct.q,{style:{textAlign:"left",flex:"1 1 auto"}},"Title"),n.a.createElement(ct.q,{style:{textAlign:"right",width:"20%"}},"Duration"))),n.a.createElement(ct.n,null,e.tracks.map(t=>n.a.createElement(ht,{style:e.selected.includes(t.index)?r.selectedTableRow:{},key:t.index,onDoubleClick:A=>e.handleRenameTrack(A,t.index),onClick:A=>e.handleSelectTrackClick(A,t.index)},n.a.createElement(ct.o,{style:{textAlign:"center",width:"2ch"}},t.index+1),n.a.createElement(ct.o,{style:{width:"80%"}},n.a.createElement("div",null,t.fullWidthTitle&&`${t.fullWidthTitle} / `,t.title||"No Title")),n.a.createElement(ct.o,{style:{textAlign:"right",width:"20%"}},n.a.createElement("span",null,t.encoding),"\xa0",n.a.createElement("span",null,t.duration))))))),n.a.createElement("div",{className:i.controlsContainer},"MAIN"===o?n.a.createElement(an,null):null)),n.a.createElement(bt,{onClick:e.open}),n.a.createElement(ZA,null),n.a.createElement(GA,null),n.a.createElement(ta,null),n.a.createElement(Ia,{files:e.uploadedFiles}),n.a.createElement(_A,null),n.a.createElement(on,{trackIndexes:e.selected}),n.a.createElement(vt,null),n.a.createElement(aa,null))},vn=Object(Qe.a)(e=>({add:{position:"absolute",bottom:e.spacing(3),right:e.spacing(3),[P(e)]:{bottom:e.spacing(2)}},main:{overflowY:"auto",flex:"1 1 auto",marginBottom:e.spacing(3),outline:"none",marginLeft:e.spacing(-1),marginRight:e.spacing(-1),[R(e)]:{marginLeft:e.spacing(-2),marginRight:e.spacing(-2)}},toolbar:{marginTop:e.spacing(3),marginLeft:e.spacing(-2),marginRight:e.spacing(-2),[e.breakpoints.up(600+2*e.spacing(2))]:{marginLeft:e.spacing(-3),marginRight:e.spacing(-3)}},toolbarLabel:{flex:"1 1 100%"},toolbarHighlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(dA.d)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},headBox:{display:"flex",justifyContent:"space-between"},spacing:{marginTop:e.spacing(1)},indexCell:{whiteSpace:"nowrap",paddingRight:0,width:e.spacing(4)},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},remainingTimeTooltip:{textDecoration:"underline",textDecorationStyle:"dotted"},hoveringOverGroup:{backgroundColor:`${Object(mA.alpha)(e.palette.secondary.dark,.4)}`},dragHandleEmpty:{width:20,padding:`${e.spacing(.5)}px 0 0 0`}}));function kn(e,t){return t&&e.index===t.track?"playing"===t.state?"playing":"paused"===t.state?"paused":"none":"none"}const Cn=e=>{let t=Object(r.d)();const A=b(e=>e.main.disc),l=b(e=>e.main.deviceName),i=b(e=>e.main.deviceStatus),{vintageMode:o}=b(e=>e.appState),[c,s]=n.a.useState([]),[m,u]=n.a.useState([]),[p,g]=Object(a.useState)(-1),[h,f]=n.a.useState(null),E=Object(a.useCallback)(e=>{f(e.currentTarget)},[f]),w=Object(a.useCallback)(()=>{f(null)},[f]),v=Object(a.useCallback)(e=>{t(function(e,t){return async function(A){const{netmdService:a}=L;await a.moveTrack(e,t),Je()(A)}}(c[0],e)),w()},[t,c,w]),k=Object(a.useCallback)((e,A)=>{if(!e.destination)return;let a=parseInt(e.source.droppableId),n=e.source.index,l=parseInt(e.destination.droppableId),i=e.destination.index;t(function(e,t,A,a){return async function(n,l){if(e===A&&t===a)return;n(xe.setLoading(!0));const i=T(await L.netmdService.listContent());let r,o,c,s,d,m,u=i[e].tracks.splice(t,1)[0];e<A?(o=e,s=t,c=A,d=a,m=-1):e>A?(o=A,s=a,c=e,d=t,m=1):t<a?(o=c=e,s=t,d=a,m=-1):(o=c=A,s=a,d=t,m=1);for(let e=o;e<=c;e++){let t=e===o?s:0,A=e===c?d:i[e].tracks.length;for(let a=t;a<A;a++)i[e].tracks[a].index+=m}if(0===A)r=a;else if(0===a){let e=i[A-1],t=2;for(;e&&0===e.tracks.length;)e=i[A-t++];if(e){r=e.tracks[e.tracks.length-1].index+1}else r=0}else r=i[A].tracks[0].index+a;u.index!==r&&await L.netmdService.moveTrack(u.index,r,!1),u.index=r,i[A].tracks.splice(a,0,u);let p=[],g=[];for(let e of i)0!==e.tracks.length&&(-1===e.index?p.push(...e.tracks):g.push(e));p.length&&g.unshift({index:0,title:null,fullWidthTitle:null,tracks:p}),await L.netmdService.rewriteGroups(g),Je()(n)}}(a,n,l,i))},[t]),C=Object(a.useCallback)(()=>{t(ge.setVisible(!0))},[t]);Object(a.useEffect)(()=>{t(Je())},[t]),Object(a.useEffect)(()=>{s([])},[A]);const y=Object(a.useCallback)((e,A)=>{u(e),t(se.setVisible(!0))},[t]),{getRootProps:x,getInputProps:O,isDragActive:D,open:I}=Object(cA.a)({onDrop:y,accept:["audio/*","video/mp4"],noClick:!0}),j=vn(),N=Object(a.useMemo)(()=>S(A),[A]),R=Object(a.useMemo)(()=>T(A),[A]),P=Object(a.useCallback)((e,t)=>{if(e.shiftKey&&c.length&&-1!==p){let e=Math.min(p+1,t),A=Math.max(p-1,t),a=[...c];for(let t=e;t<=A;t++){let e=a.indexOf(t);-1===e?a.push(t):a.splice(e,1)}a.includes(t)||a.push(t),s(a)}else c.includes(t)?s(c.filter(e=>e!==t)):s([...c,t]);g(t)},[c,s,p,g]),M=Object(a.useCallback)(e=>{c.length<N.length?s(N.map(e=>e.index)):s([])},[c,N]),F=Object(a.useCallback)((e,A)=>{let a=N.find(e=>e.index===A);a&&t(Object(V.batchActions)([q.setVisible(!0),q.setGroupIndex(null),q.setCurrentName(a.title),q.setCurrentFullWidthName(a.fullWidthTitle),q.setIndex(a.index)]))},[t,N]),Q=Object(a.useCallback)((e,A)=>{var a,n;let l=R.find(e=>e.index===A);l&&t(Object(V.batchActions)([q.setVisible(!0),q.setGroupIndex(A),q.setCurrentName(null!==(a=l.title)&&void 0!==a?a:""),q.setCurrentFullWidthName(null!==(n=l.fullWidthTitle)&&void 0!==n?n:""),q.setIndex(-1)]))},[t,R]),W=Object(a.useCallback)(e=>{1===e.detail&&F(e,c[0])},[F,c]),z=Object(a.useCallback)(e=>{var A;t((A=c,async function(e){if(!window.confirm(`Proceed with Delete Track${1!==A.length?"s":""}? This operation cannot be undone.`))return;const{netmdService:t}=L;e(xe.setLoading(!0)),await t.deleteTracks(A),Je()(e)}))},[t,c]),G=Object(a.useCallback)(e=>{var A;t((A=c,async function(e){let t=A[0],a=A[A.length-1]-t+1;const{netmdService:n}=L;n.addGroup(t,a,""),Je()(e)}))},[t,c]),U=Object(a.useCallback)((e,A)=>{t(function(e){return async function(t){const{netmdService:A}=L;A.deleteGroup(e),Je()(t)}}(A))},[t]),H=Object(a.useCallback)((e,A)=>{i&&(i.track!==A?(t(Ve("goto",A)),"playing"!==i.state&&t(Ve("play"))):"playing"===i.state&&t(Ve("pause")))},[t,i]),J=Object(a.useMemo)(()=>N.filter(e=>null===e.group&&c.includes(e.index)).length===c.length&&B(c.sort((e,t)=>e-t)),[N,c]),Y=c.length;if(o){const e={disc:A,deviceName:l,selected:c,setSelected:s,selectedCount:Y,tracks:N,uploadedFiles:m,setUploadedFiles:u,onDrop:y,getRootProps:x,getInputProps:O,isDragActive:D,open:I,moveMenuAnchorEl:h,setMoveMenuAnchorEl:f,handleShowMoveMenu:E,handleCloseMoveMenu:w,handleMoveSelectedTrack:v,handleShowDumpDialog:C,handleDeleteSelected:z,handleRenameActionClick:W,handleRenameTrack:F,handleSelectAllClick:M,handleSelectTrackClick:P};return n.a.createElement(wn,e)}return n.a.createElement(n.a.Fragment,null,n.a.createElement(tt.a,{className:j.headBox},n.a.createElement($e.a,{component:"h1",variant:"h4"},l||"Loading..."),n.a.createElement(_t,null)),n.a.createElement($e.a,{component:"h2",variant:"body2"},null!==A?n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,`${Object(d.formatTimeFromFrames)(A.left,!1)} left of ${Object(d.formatTimeFromFrames)(A.total,!1)} `),n.a.createElement(It.a,{title:n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,`${Object(d.formatTimeFromFrames)(2*A.left,!1)} left in LP2 Mode`),n.a.createElement("br",null),n.a.createElement("span",null,`${Object(d.formatTimeFromFrames)(4*A.left,!1)} left in LP4 Mode`)),arrow:!0},n.a.createElement("span",{className:j.remainingTimeTooltip},"SP Mode"))):"Loading..."),n.a.createElement(xA.a,{className:Object(oA.default)(j.toolbar,{[j.toolbarHighlight]:Y>0})},Y>0?n.a.createElement(HA.a,{indeterminate:Y>0&&Y<N.length,checked:Y>0,onChange:M,inputProps:{"aria-label":"select all tracks"}}):null,Y>0?n.a.createElement($e.a,{className:j.toolbarLabel,color:"inherit",variant:"subtitle1"},Y," selected"):n.a.createElement($e.a,{component:"h3",variant:"h6",className:j.toolbarLabel},(null===A||void 0===A?void 0:A.fullWidthTitle)&&`${A.fullWidthTitle} / `,(null===A||void 0===A?void 0:A.title)||"Untitled Disc"),Y>0?n.a.createElement(n.a.Fragment,null,n.a.createElement(It.a,{title:"Record from MD"},n.a.createElement(qe.a,{"aria-label":"Record",onClick:C},"Record"))):null,Y>0?n.a.createElement(It.a,{title:"Delete"},n.a.createElement(kt.a,{"aria-label":"delete",onClick:z},n.a.createElement(fA.a,null))):null,Y>0?n.a.createElement(It.a,{title:J?"Group":""},n.a.createElement(kt.a,{"aria-label":"group",disabled:!J,onClick:G},n.a.createElement(EA.a,null))):null,Y>0?n.a.createElement(It.a,{title:"Rename"},n.a.createElement(kt.a,{"aria-label":"rename",disabled:1!==Y,onClick:W},n.a.createElement(Rt.a,null))):null),n.a.createElement(tt.a,Object.assign({className:j.main},x(),{id:"main"}),n.a.createElement("input",O()),n.a.createElement(wA.a,{size:"small"},n.a.createElement(CA.a,null,n.a.createElement(yA.a,null,n.a.createElement(kA.a,{className:j.dragHandleEmpty}),n.a.createElement(kA.a,{className:j.indexCell},"#"),n.a.createElement(kA.a,null,"Title"),n.a.createElement(kA.a,{align:"right"},"Duration"))),n.a.createElement(sA.a,{onDragEnd:k},n.a.createElement(vA.a,null,R.map((e,t)=>n.a.createElement(yA.a,{key:`${t}`},n.a.createElement(kA.a,{colSpan:4,style:{padding:"0"}},n.a.createElement(wA.a,{size:"small"},n.a.createElement(sA.c,{droppableId:`${t}`,key:`${t}`},(t,A)=>n.a.createElement(vA.a,Object.assign({},t.droppableProps,{ref:t.innerRef,className:Object(oA.default)({[j.hoveringOverGroup]:A.isDraggingOver})}),null!==e.title&&n.a.createElement(FA,{group:e,onRename:Q,onDelete:U}),null===e.title&&0===e.tracks.length&&n.a.createElement(yA.a,{style:{height:"1px"}}),e.tracks.map((t,A)=>n.a.createElement(sA.b,{draggableId:`${e.index}-${t.index}`,key:`t-${t.index}`,index:A},A=>n.a.createElement(MA,{track:t,draggableProvided:A,inGroup:null!==e.title,isSelected:c.includes(t.index),trackStatus:kn(t,i),onSelect:P,onRename:F,onTogglePlayPause:H}))),t.placeholder))))))))),D?n.a.createElement(Me.a,{className:j.backdrop,open:D},"Drop your Music to Upload"):null),n.a.createElement(uA.a,{color:"primary","aria-label":"add",className:j.add,onClick:I},n.a.createElement(gA.a,null)),n.a.createElement(ZA,null),n.a.createElement(GA,null),n.a.createElement(ta,null),n.a.createElement(Ia,{files:m}),n.a.createElement(_A,null),n.a.createElement(on,{trackIndexes:c}),n.a.createElement(vt,null),n.a.createElement(aa,null))};var yn=A(586),xn=A(317),On=A.n(xn),Dn=A(318),Sn=A.n(Dn);const Tn=st.c`
${ct.y}
body {
    font-family: 'ms_sans_serif';
}
img {
    image-rendering: pixelated;
}
`,In=Object(Qe.a)(e=>({desktop:{width:"100%",height:"100%",backgroundColor:"teal",display:"flex",justifyContent:"center"},window:{display:"flex !important",flexDirection:"column",width:"auto",height:"100%",[R(e)]:{width:600,marginLeft:"auto",marginRight:"auto",height:600,marginTop:e.spacing(2)},[M(e)]:{width:700,height:700,marginTop:e.spacing(2)}},loading:{position:"absolute",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center"}})),jn=()=>{const e=In(),t=Object(r.d)(),{mainView:A,loading:l}=b(e=>e.appState),[i,o]=Object(a.useState)(!1),c=Object(a.useCallback)(()=>{t(xe.setMainView("WELCOME"))},[t]),s=Object(a.useCallback)(()=>{o(!1)},[o]),d=Object(a.useCallback)(()=>{o(!i)},[i,o]),m=Object(a.useCallback)(()=>{window.open("https://github.com/cybercase/webminidisc/wiki/Support-and-FAQ","_blank")},[]),u=On.a,p={...u,selectedTableRow:{background:u.hoverBackground,color:u.canvasTextInvert}};return n.a.createElement("div",{className:e.desktop},n.a.createElement(Tn,null),n.a.createElement(st.b,{theme:p},n.a.createElement(ct.v,{className:e.window},n.a.createElement(ct.x,{style:{display:"flex",alignItems:"center"}},n.a.createElement("img",{alt:"CD Player",src:Sn.a}),n.a.createElement("span",{style:{flex:"1 1 auto",marginLeft:"4px"}},"Web MiniDisc"),"MAIN"===A?n.a.createElement(ct.c,{onClick:c},n.a.createElement(ft,null)):null),n.a.createElement(ct.t,null,n.a.createElement(ct.c,{variant:"menu",size:"sm",active:i,onClick:d},"File"),n.a.createElement(ct.c,{variant:"menu",size:"sm",onClick:m},"Help"),i?n.a.createElement(_t,{onClick:s}):null),n.a.createElement(n.a.Fragment,null,"WELCOME"===A?n.a.createElement(rA,null):null,"MAIN"===A?n.a.createElement(Cn,null):null),n.a.createElement(ct.j,{variant:"well"},"\xa0"," (c) ",n.a.createElement(ct.a,{rel:"noopener noreferrer",color:"inherit",target:"_blank",href:"https://stefano.brilli.me/"},"Stefano Brilli")," ",(new Date).getFullYear(),"."),l?n.a.createElement("div",{className:e.loading},n.a.createElement(ct.g,{size:32})):null)))},Bn=Object(Qe.a)(e=>({layout:{width:"auto",height:"100%",[R(e)]:{width:600,marginLeft:"auto",marginRight:"auto"},[M(e)]:{width:700}},paper:{position:"relative",display:"flex",flexDirection:"column",padding:e.spacing(2),height:"calc(100% - 20px)",[R(e)]:{marginTop:e.spacing(2),marginBottom:e.spacing(1),padding:e.spacing(3),height:600},[M(e)]:{height:700}},bottomBar:{display:"flex",alignItems:"center",[P(e)]:{flexWrap:"wrap"},marginLeft:-e.spacing(2)},copyrightTypography:{textAlign:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"},minidiscLogo:{width:48},controlsContainer:{flex:"0 0 auto",width:"100%",paddingRight:e.spacing(8),[P(e)]:{paddingLeft:0}}})),Nn=Object(We.a)({palette:{type:"dark",primary:{light:"#6ec6ff",main:"#2196f3",dark:"#0069c0",contrastText:"#fff"}}}),Rn=Object(We.a)({palette:{type:"light"}});var Pn=()=>{const e=Bn(),{mainView:t,loading:A,darkMode:a,vintageMode:l}=b(e=>e.appState);return l?n.a.createElement(jn,null):n.a.createElement(n.a.Fragment,null,n.a.createElement(ze.a,{theme:a?Nn:Rn},n.a.createElement(Pe.a,null),n.a.createElement("main",{className:e.layout},n.a.createElement(yn.a,{className:e.paper},"WELCOME"===t?n.a.createElement(rA,null):null,"MAIN"===t?n.a.createElement(Cn,null):null,n.a.createElement(tt.a,{className:e.controlsContainer},"MAIN"===t?n.a.createElement(an,null):null)),n.a.createElement($e.a,{variant:"body2",color:"textSecondary",className:e.copyrightTypography},"\xa9 ",n.a.createElement(At.a,{rel:"noopener noreferrer",color:"inherit",target:"_blank",href:"https://stefano.brilli.me/"},"Stefano Brilli")," ",(new Date).getFullYear(),".")),A?n.a.createElement(Me.a,{className:e.backdrop,open:A},n.a.createElement(Fe.a,{color:"inherit"})):null))},Mn=(A(568),A(569),A(204));class Fn{constructor(e){this.worker=e,this.messageCallback=void 0,e.onmessage=this.handleMessage.bind(this)}async init(){await new Promise(e=>{this.messageCallback=e,this.worker.postMessage({action:"init"})})}async encode(e,t){return(await new Promise(A=>{this.messageCallback=A,this.worker.postMessage({action:"encode",bitrate:t,data:e},[e])})).data.result}terminate(){this.worker.terminate()}handleMessage(e){this.messageCallback(e),this.messageCallback=void 0}}if("undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope){let e;onmessage=async t=>{const{action:A,...a}=t.data;if("init"===A)self.importScripts(E("atracdenc.js")),self.Module().then(t=>{e=t,self.postMessage({action:"init"}),e.setLogger&&e.setLogger((e,t)=>console.log(`${t}: ${e}`))});else if("encode"===A){const{bitrate:t,data:A}=a,n="inWavFile.wav",l="outAt3File.aea",i=new Uint8Array(A);e.FS.writeFile(`${n}`,i),e.callMain(["-e","atrac3","-i",n,"-o",l,"--bitrate",t]);let r=e.FS.stat(l).size,o=new Uint8Array(r-96),c=e.FS.open(l,"r");e.FS.read(c,o,0,o.length,96),e.FS.close(c);let s=o.buffer;self.postMessage({action:"encode",result:s},[s])}}}const Qn=A(584);var Wn=A(319),zn=A.n(Wn);if(L.netmdService=new z({debug:!0}),L.audioExportService=new class{constructor(){this.ffmpegProcess=void 0,this.atracdencProcess=void 0,this.loglines=[],this.inFileName="",this.outFileNameNoExt=""}async init(){Object(Mn.setLogging)(!0)}async prepare(e){this.loglines=[],this.ffmpegProcess=Object(Mn.createWorker)({logger:e=>{this.loglines.push(e),console.log(e.action,e.message)},corePath:E("ffmpeg-core.js"),workerPath:E("worker.min.js")}),await this.ffmpegProcess.load(),this.atracdencProcess=new Fn(new Qn),await this.atracdencProcess.init();let t=e.name.split(".").slice(-1);if(0===t.length)throw new Error(`Unrecognized file format: ${e.name}`);this.inFileName=`inAudioFile.${t[0]}`,this.outFileNameNoExt="outAudioFile",await this.ffmpegProcess.write(this.inFileName,e)}async info(){await this.ffmpegProcess.transcode(this.inFileName,`${this.outFileNameNoExt}.metadata`,"-f ffmetadata");let e=/Audio:\s(.*?),/,t=/Input #0,\s(.*?),/,A=null,a=null;for(let n of this.loglines){let l=n.message.match(e);if(null===l)if(l=n.message.match(t),null===l){if(null!==A&&null!==a)break}else a=l[1];else A=l[1]}return{format:A,input:a}}async export({format:e}){let t;if("SP"===e){const e=`${this.outFileNameNoExt}.raw`;await this.ffmpegProcess.transcode(this.inFileName,e,"-ac 2 -ar 44100 -f s16be");let{data:A}=await this.ffmpegProcess.read(e);t=A.buffer}else{const A=`${this.outFileNameNoExt}.wav`;await this.ffmpegProcess.transcode(this.inFileName,A,"-f wav -ar 44100 -ac 2");let{data:a}=await this.ffmpegProcess.read(A),n="0";switch(e){case"LP2":n="128";break;case"LP105":n="102";break;case"LP4":n="64"}t=await this.atracdencProcess.encode(a.buffer,n)}return this.ffmpegProcess.worker.terminate(),this.atracdencProcess.terminate(),t}},L.mediaRecorderService=new class{constructor(){this.recorder=void 0,this.stream=void 0,this.audioContext=void 0,this.analyserNode=void 0,this.gainNode=void 0}playTestInput(e){this.audioContext=new AudioContext,this.gainNode=this.audioContext.createGain(),this.analyserNode=this.audioContext.createAnalyser(),this.initStream(e).then(()=>{this.audioContext.createMediaStreamSource(this.stream).connect(this.gainNode),this.gainNode.connect(this.analyserNode),this.analyserNode.connect(this.audioContext.destination)})}stopTestInput(){var e;this.audioContext&&(null===(e=this.audioContext)||void 0===e||e.close(),delete this.audioContext,this.closeStream())}async initStream(e){const t={autoGainControl:!1,channelCount:2,deviceId:e,echoCancellation:!1,noiseSuppression:!1,sampleRate:44100,highpassFilter:!1};this.stream=await navigator.mediaDevices.getUserMedia({audio:t});const A=this.stream.getAudioTracks();A.length>0&&console.log("Record Setings:",A[0].getSettings())}async startRecording(){this.audioContext=new AudioContext;const e=this.audioContext.createMediaStreamSource(this.stream);this.recorder=new zn.a(e,{workerPath:E("recorderWorker.js")}),this.recorder.record()}async stopRecording(){this.recorder.stop()}async closeStream(){var e;null===(e=this.stream)||void 0===e||e.getTracks().forEach(e=>e.stop())}downloadRecorded(e){this.recorder.exportWAV(t=>{let A=URL.createObjectURL(t),a=document.createElement("a");document.body.appendChild(a),a.style.display="none",a.href=A,a.download=`${C(e)}.wav`,a.click(),window.URL.revokeObjectURL(A),document.body.removeChild(a)})}},function(){let e;window.addEventListener("beforeunload",e=>{Ne.getState().uploadDialog.visible&&(e.preventDefault(),e.returnValue="Warning! Recording will be interrupted")}),navigator&&navigator.usb?navigator.usb.ondisconnect=function(){Ne.dispatch(xe.setMainView("WELCOME"))}:Ne.dispatch(xe.setBrowserSupported(!1)),"Notification"in window&&"denied"!==Notification.permission||(Ne.dispatch(xe.setNotificationSupport(!1)),Ne.dispatch(xe.setNotifyWhenFinished(!1))),window.addEventListener("beforeinstallprompt",t=>{t.preventDefault(),e=t})}(),function(){let e=null,t=!1;function A(e){var A;return!t&&"MAIN"===e.appState.mainView&&!1===e.appState.loading&&"playing"===(null===(A=e.main.deviceStatus)||void 0===A?void 0:A.state)&&!1===e.convertDialog.visible&&!1===e.uploadDialog.visible&&!1===e.recordDialog.visible&&!1===e.panicDialog.visible&&!1===e.errorDialog.visible&&!1===e.dumpDialog.visible}Ne.subscribe((function(){const a=Ne.getState();!0===A(a)&&null===e?e=setInterval(async()=>{try{const e=await L.netmdService.getDeviceStatus();Ne.dispatch(Te.setDeviceStatus(e))}catch(e){console.error(e),t=!0}},5e3):!1===A(a)&&null!==e&&(clearInterval(e),e=null)}))}(),i.a.render(n.a.createElement(r.a,{store:Ne},n.a.createElement(Pn,null)),document.getElementById("root")),"true"!==Object({NODE_ENV:"production",PUBLIC_URL:"/webminidisc"}).REACT_APP_NO_GA_RELEASE){!function(e){if("serviceWorker"in navigator){if(new URL("/webminidisc",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const t="/webminidisc/final-service-worker.js";o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(A=>{const a=A.headers.get("content-type");404===A.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(e=>{e.unregister().then(()=>{window.location.reload()})}):c(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):c(t,e)})}}();try{!function(){let e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src="https://www.googletagmanager.com/gtag/js?id=UA-60498490-1",e.appendChild(t);let A=document.createElement("script");A.type="text/javascript",A.text="\n            window.dataLayer = window.dataLayer || [];\n            function gtag(){dataLayer.push(arguments);}\n            gtag('js', new Date());\n            gtag('config', 'UA-60498490-1');\n            ",e.appendChild(A)}()}catch(Ln){}}}},[[343,1,2]]]);
//# sourceMappingURL=main.0bfb5ad5.chunk.js.map